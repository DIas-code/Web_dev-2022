(window.webpackJsonp=window.webpackJsonp||[]).push([["1y7E","30RW","5yKt"],{"1mos":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={envelope:{medium:"M21.89 21.461l-19.78 0q-.882 0-1.517-.635t-.635-1.517l0-10.666q.588.659 1.352 1.164 4.857 3.305 6.15 4.257t1.776 1.27 1.27.647 1.482.318l.024 0q.67 0 1.47-.329.8-.341 1.282-.647t2.011-1.411 5.927-4.104q.764-.529 1.341-1.164l0 10.666q0 .882-.635 1.517t-1.517.635zm-9.878-6.88-.024 0q-.647 0-1.247-.365-.623-.376-.906-.564t-.717-.506-2.987-2.082-3.622-2.505q-1.07-.753-1.811-1.74-.741-1-.741-1.94t.553-1.635 1.599-.706l19.78 0q.882 0 1.517.635 .635.647 .635 1.611t-.659 1.929-1.635 1.658q-5.057 3.504-5.739 3.987t-1.682 1.188q-1.458 1.035-2.317 1.035z"},facebookSign:{medium:"M17.704 8.92l0-1.696q0-.766.233-1.067.246-.301 1.122-.315l1.724 0 0-3.42-2.736 0q-2.381 0-3.407 1.122t-1.04 3.338l0 2.039-2.039 0 0 3.434 2.039 0 0 9.919 4.104 0 0-9.919 2.736 0 .356-3.434-3.092 0zm6.307-4.419 0 15.008q-.014 1.861-1.327 3.188t-3.174 1.313l-15.008 0q-1.874 0-3.188-1.313t-1.313-3.188l0-15.008q0-1.861 1.327-3.188t3.174-1.313l15.008 0q1.861 0 3.188 1.313 1.313 1.327 1.313 3.188z"},twitterSign:{medium:"M15.132 6.006q-1.395 0-2.353.958t-.971 2.326q0 .451.082 .752-2.011-.123-3.79-1.026t-2.996-2.422q-.451.78-.465 1.655 0 1.779 1.423 2.736-.739-.014-1.56-.397l0 .027q0 1.19.78 2.093t1.929 1.122q-.451.123-.725.123t-.684-.055q.328.985 1.163 1.628t1.902.657q-1.82 1.409-4.077 1.409-.41 0-.78-.055 2.312 1.464 5.035 1.478 1.751 0 3.284-.561 2.818-1.04 4.446-3.53 1.614-2.49 1.614-5.267 0-.287-.014-.424.985-.698 1.642-1.696-.876.397-1.888.534 1.067-.629 1.45-1.833-1.012.588-2.093.794-.958-1.026-2.353-1.026zm8.879-1.505 0 15.008q-.014 1.861-1.327 3.188t-3.174 1.313l-15.008 0q-1.874 0-3.188-1.313t-1.313-3.188l0-15.008q0-1.861 1.327-3.188t3.174-1.313l15.008 0q1.861 0 3.188 1.313 1.313 1.327 1.313 3.188z"}}},"2Ikf":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=m(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=r("Uafs"),l=r("Vxy9"),c=r("JimW"),d=n(r("wINb")),u=r("AHFm"),p=m(r("HEOz"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const f=e=>a.createElement("span",{dangerouslySetInnerHTML:{__html:(0,u.formatContent)(e.markdown)}});class g extends a.Component{constructor(...e){super(...e),this.renderExplainWebpage=()=>[a.createElement(l.Body,{tag:"p",key:"_"},p._('Underscores "_" mean that a HTML tag name, attribute, or CSS selector, property, or value is expected.')),a.createElement(l.Body,{tag:"p",key:"..."},p._('Three dots "..." mean that we expect a value such as a number or text like the contents of a paragraph.'))],this.renderExplainPJS=()=>a.createElement(l.Body,{tag:"p"},p._("The empty blanks are parts that you will need to figure out yourself.")),this.renderExplainMatchingBlanks=()=>a.createElement(l.Body,{tag:"p"},p._("If you see colored blanks, the values you put in two blanks of the same color must be exactly the same.")),this.renderExplainImage=()=>a.createElement(l.Body,{tag:"p"},p._("The image on the right shows what your program should output, if the code is correct. Some things might be different, like the exact colors or position.")),this.renderExplainModal=()=>{const{isWebpage:e,isPJS:t,hasMatchingBlanks:r,image:n}=this.props;return a.createElement(i.ModalLauncher,{modal:({closeModal:s})=>a.createElement(i.OnePaneDialog,{title:p._("What's this?"),content:a.createElement(c.View,null,a.createElement(l.Body,{tag:"p"},p._("This hint shows the code you'll need to successfully complete this step, but it is not the complete answer.")),e&&this.renderExplainWebpage(),t&&this.renderExplainPJS(),r&&this.renderExplainMatchingBlanks(),n&&this.renderExplainImage()),footer:a.createElement(o.default,{onClick:s},p._("Close"))})},(({openModal:e})=>a.createElement(o.default,{kind:"tertiary",size:"small",onClick:e,style:y.whatsThisHint},p._("What's this?"))))},this.renderStructure=()=>{const{hasHint:e,image:t,structure:r}=this.props;return a.createElement("div",{className:(0,s.css)(y.structure)},e&&a.createElement("h3",{className:(0,s.css)(y.header)},p._("Hint"),this.renderExplainModal()),a.createElement("div",null,t&&a.createElement("img",{className:(0,s.css)(y.exampleImage),src:(0,d.default)(t),alt:p._("Screenshot of what your code should output"),title:p._("Your code in this step should output something that looks like this")}),a.createElement("div",{dangerouslySetInnerHTML:{__html:(0,u.stripExtraSpacesFromPre)(r)}})))},this.renderDescription=()=>{const{description:e,title:t}=this.props;return a.createElement("div",{className:(0,s.css)(y.description)},a.createElement("h3",{className:(0,s.css)(y.header)},t),a.createElement("p",null,a.createElement(f,{markdown:e})))},this.renderAlsoMessage=()=>{const{hasSyntaxErrors:e,alsoMessage:t}=this.props;return e||!t?null:a.createElement("span",{className:(0,s.css)(y.alsoMessage)},a.createElement(f,{markdown:t}))},this.renderAlternateMessage=()=>{const{hasSyntaxErrors:e,alternateMessage:t,alsoMessage:r}=this.props;return e||!t||r?null:a.createElement("span",{className:(0,s.css)(y.alternateMessage)},a.createElement(f,{markdown:t}))}}render(){return a.createElement("div",{className:(0,s.css)(y.wrap)},a.createElement("div",{className:(0,s.css)(y.columns)},this.renderDescription(),this.renderStructure()),a.createElement("div",{className:(0,s.css)(y.message)},this.renderAlsoMessage(),this.renderAlternateMessage()))}}const y=s.StyleSheet.create({alsoMessage:{color:"darkorange"},alternateMessage:{color:"green"},columns:{display:"flex",width:"100%"},description:{flex:1,maxWidth:850},exampleImage:{maxWidth:140},header:{marginBottom:0},message:{fontWeight:700,fontSize:"1em",minHeight:20},structure:{marginLeft:20},whatsThisHint:{marginLeft:"0.6em"},wrap:{width:"100%"}});var b=g;t.default=b},"3gDo":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTermMap=function(e){switch(e){case o.PJS:return{new:n._("New program"),restart:n._("Restart")};case o.WEBPAGE:return{new:n._("New webpage"),restart:n._("Reload"),code:s};case o.SQL:return{new:n._("New SQL script"),restart:n._("Re-run")};case o.DOCUMENT:return{new:n._("New Document"),restart:n._("Re-run")}}return{new:"",restart:""}};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=s?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("HEOz"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}const s=`<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8">\n        <title>${n._("New webpage")}</title>\n    </head>\n    <body>\n\n\n    </body>\n</html>`,o=Object.freeze({PJS:"pjs",WEBPAGE:"webpage",SQL:"sql",DOCUMENT:"document"})},"4X7z":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CritterAppearance=void 0;var a=p(r("q1tI")),s=n(r("17x9")),o=r("mR6N"),i=n(r("wINb")),l=p(r("HEOz")),c=n(r("wa3X")),d=r("8crR");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const h={CHALLENGE_COMPLETE:"challenge_complete",STEPS_COMPLETE:"steps_complete",GO_TO_NEXT_STEP:"go_to_next_step",FIX_PREVIOUS_STEP:"go_back_a_step"};t.CritterAppearance=h;const m={[h.STEPS_COMPLETE]:l._("Finish challenge"),[h.GO_TO_NEXT_STEP]:l._("Next step"),[h.FIX_PREVIOUS_STEP]:l._("Go back")};class f extends a.Component{constructor(...e){super(...e),this.state={bubbleClosed:!1,completionMessage:(0,d.getNextCompletionMessage)(),progressMessage:(0,d.getNextProgressMessage)()},this.renderCritter=()=>{const e=this.props.reason===h.STEPS_COMPLETE?g.jumping:g.happy;return a.createElement("img",{alt:"","aria-hidden":!0,className:(0,o.css)(b.critter),src:(0,i.default)(e)})},this.renderMessageText=()=>this.props.reason===h.STEPS_COMPLETE?this.state.completionMessage:this.props.reason===h.GO_TO_NEXT_STEP?this.state.progressMessage:l._("Oops, you need to fix a previous step!"),this.renderMessage=()=>a.createElement("div",{className:(0,o.css)(b.message)},a.createElement("span",null,this.renderMessageText())),this.renderBubble=()=>this.state.bubbleClosed?null:a.createElement("div",null,a.createElement("div",{className:(0,o.css)(b.bubble),onClick:()=>{this.setState({bubbleClosed:!0}),this.props.onAcknowledge()}},a.createElement("div",{className:(0,o.css)(b.inner)},this.renderCritter(),this.renderMessage())),a.createElement("div",{className:(0,o.css)(b.triangle)}))}UNSAFE_componentWillUpdate(e,t){e.reason!==this.props.reason&&(e.reason===h.STEPS_COMPLETE?this.setState({bubbleClosed:!1,completionMessage:(0,d.getNextCompletionMessage)()}):e.reason===h.GO_TO_NEXT_STEP&&this.setState({bubbleClosed:!1,progressMessage:(0,d.getNextProgressMessage)()}))}render(){return a.createElement("div",{className:(0,o.css)(b.wrap)},this.renderBubble(),a.createElement(c.default,{onClick:this.props.onAcknowledge,style:b.toolbarButton},m[this.props.reason]))}}f.propTypes={onAcknowledge:s.default.func.isRequired,reason:s.default.oneOf(Object.values(h)).isRequired},f.CritterAppearance=h,f.CritterButtonMessages=m,f.getCritterAppearanceReason=e=>e.previousStepFailed()?h.FIX_PREVIOUS_STEP:e.currentStepComplete()?h.GO_TO_NEXT_STEP:e.allTestsPass()&&(e.get("complete")||e.get("userScratchpad").get("isComplete"))?h.CHALLENGE_COMPLETE:!!e.canBeCompleted()&&h.STEPS_COMPLETE;const g={happy:"/images/scratchpads/happy-critter.png",jumping:"/images/scratchpads/jumping-critter.png"},y="#f5f5f5",b=o.StyleSheet.create({bubble:{background:y,top:-120,color:"black",borderRadius:10,cursor:"pointer",display:"inline-block",maxWidth:250,minWidth:200,padding:10,position:"absolute",right:0,zIndex:2},critter:{height:70,marginRight:10},inner:{display:"flex",flexDirection:"row-reverse",justifyContent:"space-around"},message:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},toolbarButton:{marginLeft:16},triangle:{borderLeft:"9px solid transparent",borderRight:"9px solid transparent",borderTop:"9px solid #f5f5f5",height:0,left:"calc(50% - 8px)",position:"absolute",top:-31,width:0,zIndex:2},wrap:{display:"inline-block",position:"relative"}});var E=f;t.default=E},"58T/":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=n(r("mXPZ")),l=n(r("ZaqX")),c=n(r("cfQQ")),d=p(r("HEOz"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class h extends a.Component{constructor(...e){super(...e),this.getSpinOffsURL=e=>{const{scratchpadId:t,scratchpadKind:r}=this.props;let n;return n=r?`${r}:${t}`:t,`/api/internal/scratchpads/${n}/${e}-forks?casing=camel&subject=all`},this.renderSpinOffs=()=>{const e=a.createElement("p",null,d._("Be the first to create a spin-off!"));return a.createElement("div",{className:(0,s.css)(m.spinOffs)},a.createElement(l.default,{title:d._("All Spin-offs"),url:this.getSpinOffsURL("top"),noResults:()=>e}))},this.renderUserSpinOffs=()=>{const{profile:e}=this.props;let t=a.createElement("p",null,d._("Login to view your spin-offs of this project."));if(i.default.isLoggedIn&&e){const r=e.get("profileRoot")+"projects";t=a.createElement("div",null,a.createElement("p",null,d._("If you save a spin-off of this project, you will see it here (as well as in your My Projects list).")),a.createElement("p",null,a.createElement(o.default,{href:r,kind:"secondary",target:"_blank"},d._("Browse My Projects"))))}return a.createElement("div",null,a.createElement(l.default,{title:d._("Your Spin-offs"),url:this.getSpinOffsURL("user"),noResults:()=>t,hideNotice:!0}))}}render(){return a.createElement("div",null,this.renderUserSpinOffs(),this.renderSpinOffs())}}const m=s.StyleSheet.create({spinOffs:{marginTop:22}});var f=(0,c.default)(h);t.default=f},"7KWC":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=r("Vxy9"),l=r("JasB"),c=n(r("gE8/")),d=r("JimW"),u=r("Uafs"),p=r("vwLt"),h=n(r("uFGi")),m=n(r("+Hxn"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}const g=[{value:"",label:"Regular"},{value:"documentation",label:"Documentation"},{value:"official",label:"Official Contest"}];class y extends a.Component{constructor(...e){super(...e),this.handleChange=(e,t)=>{this.props.scratchpad.set(e,t),this.forceUpdate()}}renderModal(e){const t=g.map(((e,t)=>a.createElement(p.OptionItem,{key:t,label:e.label,value:e.value}))),r=this.props.scratchpad,n=e.get("category-label"),s=e.get("category-select");return a.createElement(u.OnePaneDialog,{title:"Settings",content:a.createElement(d.View,null,a.createElement("div",{className:"control-group"},a.createElement(i.LabelMedium,{tag:"label",id:n,htmlFor:s,style:b.label},"Category"),a.createElement(p.SingleSelect,{"aria-labelledby":n,id:s,placeholder:"Choose a category",selectedValue:r.get("category")||"",onChange:e=>this.handleChange("category",e),style:b.select},t)),a.createElement(h.default,{title:"Canvas Width",type:"text",value:(r.get("width")||"").toString(),onChange:e=>this.handleChange("width",parseInt(e.target.value)||""),onBlur:e=>this.handleChange("width",parseInt(e.target.value)||400)}),a.createElement(h.default,{title:"Canvas Height",type:"text",value:(r.get("height")||"").toString(),onChange:e=>this.handleChange("height",parseInt(e.target.value)||""),onBlur:e=>this.handleChange("height",parseInt(e.target.value)||400)}),!r.isProject()&&a.createElement(m.default,{title:"Description",value:r.get("description"),onChange:e=>this.handleChange("description",e.target.value)})),footer:a.createElement(d.View,{style:b.modalFooter},a.createElement(o.default,{kind:"tertiary",onClick:this.props.onCancel},"Cancel"),a.createElement(l.Strut,{size:c.default.medium_16}),a.createElement(o.default,{kind:"primary",onClick:this.props.onSaveAndClose},"Save and Close"))})}render(){return a.createElement(d.UniqueIDProvider,{mockOnFirstRender:!0,scope:"coding-program-settings-admin-modal"},(e=>this.renderModal(e)))}}const b=s.StyleSheet.create({label:{marginBottom:c.default.small_12},select:{minWidth:180,maxWidth:220},modalFooter:{flexDirection:"row",justifyContent:"flex-end"}});var E=y;t.default=E},"8M3Y":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r("q1tI")),s=n(r("BnuH"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}class i extends a.Component{constructor(e){super(e),this.handleLiveEditorReady=e=>{const t=e.record,r={loading:this.handleLoading,playStarted:this.handlePlay,playPaused:this.handlePause,playEnded:this.handlePause,playStopped:this.handlePause,playUpdate:this.handlePlayUpdate,seekDone:this.handlePlayUpdate};for(const e in r)r.hasOwnProperty(e)&&t.on(e,r[e]);e.on("readyToPlay",this.handleReadyToPlay),this._isMounted&&this.setState({handlers:r,liveEditor:e,record:t,readyToPlay:!!e.audioReadyToPlay()})},this.handlePlay=()=>{this.setState({playing:!0})},this.handlePlayUpdate=()=>{const{record:e}=this.state;e&&this.setState({currentTime:e.currentTime(),seekTime:null})},this.handleLoading=()=>{const{record:e}=this.state;e&&this.setState({durationEstimate:e.durationEstimate})},this.handlePause=()=>{this.setState({playing:!1})},this.handleReadyToPlay=()=>{this.setState({readyToPlay:!0})},this.handleSeekStart=()=>{const{playing:e}=this.state;this.props.onSeekStart(),this.setState({wasPlaying:e})},this.handleSeek=e=>{this.props.onSeek(e),this.setState({seekTime:e})},this.handleSeekEnd=()=>{this.props.onSeekEnd(),this.setState({wasPlaying:null})},this.state={currentTime:0,durationEstimate:0,handlers:null,liveEditor:null,playing:!1,readyToPlay:!1,record:null,seekTime:null,totalTime:null,wasPlaying:null},this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.liveEditorPromise.then(this.handleLiveEditorReady)}componentWillUnmount(){const{liveEditor:e,record:t,handlers:r,playing:n}=this.state;if(n&&t&&t.pausePlayback(),r){for(const e in r)t&&r.hasOwnProperty(e)&&t.off(e,r[e]);e.off("readyToPlay",this.handleReadyToPlay),this._isMounted=!1}}render(){const{currentTime:e,durationEstimate:t,playing:r,readyToPlay:n,seekTime:o,record:i,wasPlaying:l}=this.state;return i?a.createElement(s.default,{currentTime:null!==o?o:e,readyToPlay:n,playing:r||!!l,playButtonClassName:"scratchpad-playbar-play",onClickPlay:()=>r?i.pausePlayback():i.play(),onSeek:this.handleSeek,onSeekStart:this.handleSeekStart,onSeekEnd:this.handleSeekEnd,totalTime:t,youtubeUrl:this.props.youtubeUrl}):null}}i.defaultProps={onSeek:()=>{},onSeekEnd:()=>{},onSeekStart:()=>{}};var l=i;t.default=l},"8jLB":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(r("q1tI")),s=n(r("wa3X")),o=r("Uafs"),i=n(r("dFiz")),l=n(r("mXPZ")),c=(r("MhIR"),n(r("7KWC"))),d=n(r("PMNg")),u=h(r("HEOz"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class m extends a.Component{render(){const e=l.default.hasAnyPermissions?c.default:d.default;return a.createElement(o.ModalLauncher,{modal:({closeModal:t})=>a.createElement(e,{scratchpad:this.props.scratchpad,onCancel:t,onSaveAndClose:()=>{t(),this.props.onSave()}})},(({openModal:e})=>a.createElement(s.default,{kind:"secondary",onClick:e},u._("Settings"))))}}var f=(0,i.default)((({scratchpad:e})=>[e]))(m);t.default=f},AHFm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripExtraSpacesFromPre=t.formatContent=void 0;t.formatContent=e=>(e=(e=(e=(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/[\n]/g,"<br>")).replace(/(\W|^)_(\S.*?\S)_(\W|$)/g,(function(e,t,r,n){return t+"<em>"+r+"</em>"+n}))).replace(/(\W|^)\*(\b.*?\b)\*(\W|$)/g,(function(e,t,r,n){return t+"<b>"+r+"</b>"+n})),[/&#x60;&#x60;&#x60;(.*?)&#x60;&#x60;&#x60;/gm,/```(.*?)```/gm].forEach((t=>{e=e.replace(t,(function(e,t){return"<pre><code>"+(t=(t=t.replace(/^\s*(<br>)+/,"")).replace(/(<br>)+\s*$/,""))+"</code></pre>"}))})),[/&#x60;(.*?)&#x60;/g,/`(.*?)`/g].forEach((t=>{e=e.replace(t,(function(e,t){return"<code>"+t+"</code>"}))})),e=n.autolink(e,!0));const n=function(){const e=/\b(?:(?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>&]+|&amp;|\((?:[^\s()<>]|(?:\([^\s()<>]+\)))*\))+(?:\((?:[^\s()<>]|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’&]))/gi;return{autolink:function(t,r){return t.replace(e,(function(e){/^https?:\/\//.test(e)||(e="http://"+e);return"<a "+(r?'rel="nofollow"':"")+' href="'+e+'">'+e+"</a>"}))}}}();t.stripExtraSpacesFromPre=e=>{const t=e.split("\n");if(t.length<3||-1===t[0].indexOf("<pre"))return e;const r=t.slice(1,t.length-1),n=r.filter((e=>e.trim().length)).map((e=>e.search(/\S|$/))),a=n.length>0?Math.min.apply(Math,n):0;return[t[0],r.map((e=>e.slice(a))).join("\n"),t[t.length-1]].map((e=>e.trim())).join("\n")}},BnuH:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=h(r("q1tI")),o=r("mR6N"),i=n(r("wa3X")),l=n(r("Pwnf")),c=n(r("+6Ef")),d=r("whzC"),u=h(r("HEOz"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const m=e=>{const t=Math.floor(e/1e3),r=Math.floor(t/60).toString();let n=(t%60).toString();return 1===n.length&&(n="0"+n),r+":"+n};class f extends s.Component{constructor(...e){super(...e),this.state={dragging:!1,seekPosition:null},this.handleSeekDown=e=>{var t;this.setState({dragging:!0}),document.addEventListener("mousemove",this.handleSeekMove),document.addEventListener("mouseup",this.handleSeekRelease),null==(t=document.body)||t.classList.add((0,o.css)(E.seeking)),this.props.onSeekStart&&this.props.onSeekStart(),this.handleSeekMove(e)},this.handleSeekMove=e=>{const t=this.refs.seek;if(!t)return;const r=t.getBoundingClientRect(),n=Math.max(Math.min(1,(e.clientX-r.left)/r.width),0);this.setState({seekPosition:n}),this.props.onSeek(n*this.props.totalTime)},this.handleSeekRelease=e=>{var t;document.removeEventListener("mousemove",this.handleSeekMove),document.removeEventListener("mouseup",this.handleSeekRelease),null==(t=document.body)||t.classList.remove((0,o.css)(E.seeking)),this.setState({dragging:!1,seekPosition:null}),this.props.onSeekEnd&&this.props.onSeekEnd()}}render(){const{currentTime:e,onClickPlay:t,playing:r,playButtonClassName:n,readyToPlay:a,totalTime:l,youtubeUrl:p}=this.props,{dragging:h,seekPosition:f}=this.state,y=(b=null!=f?f:(S=l,(E=e)||S?Math.min(1,Math.max(0,E/S)):0),(Math.round(1e4*b)/100).toString()+"%");var b,E,S;return s.createElement("div",{className:(0,o.css)(v.wrap,!a&&v.waiting)},s.createElement("span",{className:n},s.createElement(c.default,{icon:a&&r?g.pause:g.play,"aria-label":a&&r?u._("Pause"):u._("Play"),onClick:t})),s.createElement("div",{className:(0,o.css)(v.seek),onMouseDown:this.handleSeekDown,ref:"seek"},s.createElement("div",{className:(0,o.css)(v.seekInner)},s.createElement("div",{className:(0,o.css)(v.seekProgress),style:{width:y}})),s.createElement("div",{className:(0,o.css)(v.seekHandle,h&&v.seekHandleActive),style:{left:y}})),!!l&&s.createElement("div",{className:(0,o.css)(v.time)},m(null!=f?f*l:e),"/",m(l)),p&&s.createElement(i.default,{"aria-label":u._("Watch this talkthrough on YouTube"),href:(0,d.safeLinkTo)(p),target:"_blank",kind:"tertiary",style:v.linkToYT},u._("Watch on YouTube")))}}f.defaultProps={currentTime:0};const g={play:{medium:"M5.244 1.282l16.477 9.416a1.5 1.5 0 0 1 0 2.604L5.244 22.718A1.5 1.5 0 0 1 3 21.415V2.585a1.5 1.5 0 0 1 2.244-1.303z"},pause:{medium:"M3,1H9a1,1,0,0,1,1,1V22a1,1,0,0,1-1,1H3a1,1,0,0,1-1-1V2A1,1,0,0,1,3,1ZM15,1h6a1,1,0,0,1,1,1V22a1,1,0,0,1-1,1H15a1,1,0,0,1-1-1V2A1,1,0,0,1,15,1Z"}},y=20,b={marginLeft:-5,width:10},E=o.StyleSheet.create({seeking:{cursor:"pointer",userSelect:"none"}}),v=o.StyleSheet.create({linkToYT:{marginLeft:4},seek:{alignItems:"center",cursor:"pointer",display:"flex",flex:1,height:y,marginLeft:16,minWidth:400,position:"relative",top:-2},seekInner:{background:l.default.offBlack16,borderRadius:2,height:"25%",width:"100%"},seekProgress:{background:l.default.blue,borderRadius:2,height:"100%"},seekHandle:{background:l.default.blue,borderColor:"transparent",borderRadius:2,borderWidth:5,display:"block",height:"100%",marginLeft:-2.5,position:"absolute",top:0,width:5,":hover":(0,a.default)({},b)},seekHandleActive:(0,a.default)({},b),time:{fontSize:16,marginLeft:10,textAlign:"center",width:80},waiting:{opacity:.5,pointerEvents:"none"},wrap:{alignItems:"center",display:"flex",justifyContent:"space-between",userSelect:"none"}});var S=f;t.default=S},C7u4:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),a=r("mR6N"),s=r("Pwnf"),o=r("JimW"),i=r("Vxy9");class l extends n.Component{render(){const{color:e,leftContent:t,rightContent:r,size:a,subtitle:s,title:l}=this.props,d=s?i.LabelLarge:i.HeadingSmall;return Object(n.createElement)(o.View,{style:[c.container,"dark"===e&&c.dark,"small"===a&&c.small]},Object(n.createElement)(o.View,{style:c.column},Object(n.createElement)(o.View,{style:c.leftColumn},t)),l&&Object(n.createElement)(o.View,{style:[c.column,c.wideColumn]},Object(n.createElement)(o.View,{style:[c.titles,c.verticalAlign,c.center]},Object(n.createElement)(d,{id:"wb-toolbar-title"},l),s&&Object(n.createElement)(i.LabelSmall,{style:"light"===e&&c.subtitle},s))),Object(n.createElement)(o.View,{style:c.column},Object(n.createElement)(o.View,{style:c.rightColumn},r)))}}l.defaultProps={color:"light",leftContent:null,rightContent:null,size:"medium"};const c=a.StyleSheet.create({container:{border:"1px solid rgba(33, 36, 44, 0.16)",display:"flex",flexDirection:"row",minHeight:66,paddingLeft:16,paddingRight:16,position:"relative",width:"100%"},small:{minHeight:50},dark:{backgroundColor:s.default.darkBlue,boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.64)",color:"white"},verticalAlign:{justifyContent:"center"},column:{flex:1,justifyContent:"center"},wideColumn:{flexBasis:"50%"},leftColumn:{alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},rightColumn:{alignItems:"center",flexDirection:"row",justifyContent:"flex-end"},center:{textAlign:"center"},subtitle:{color:"rgba(33, 36, 44, 0.64)"},titles:{padding:12}});t.default=l},ExyH:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(r("q1tI")),s=n(r("17x9")),o=r("mR6N"),i=n(r("Pwnf")),l=d(r("HEOz"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class u extends a.Component{constructor(...e){super(...e),this.renderMessage=()=>{const{currentStep:e,stepStatus:t}=this.props;return l.$_("Step %(currentStep)s/%(totalSteps)s",{currentStep:Math.min(e+1,t.length),totalSteps:t.length})},this.renderPips=()=>{const{currentStep:e,onClickStep:t,stepStatus:r}=this.props;return a.createElement("div",{className:(0,o.css)(p.pipContainer)},r.map(((n,s)=>{return a.createElement("a",{className:(0,o.css)(p.pip,0===s&&p.pipFirst,s===r.length-1&&p.pipLast),href:"javascript:void(0)",key:s,onClick:()=>t(s),role:"button",style:{backgroundColor:(l=n,c=e===s,l?i.default.green:c?i.default.offBlack32:i.default.offBlack16)}});var l,c})))}}render(){return a.createElement("div",{className:(0,o.css)(p.wrapper)},a.createElement("div",{className:(0,o.css)(p.message)},this.renderMessage()),this.renderPips())}}u.propTypes={currentStep:s.default.number.isRequired,onClickStep:s.default.func,stepStatus:s.default.arrayOf(s.default.bool).isRequired};const p=o.StyleSheet.create({message:{fontSize:16,marginBottom:3},pip:{display:"block",height:10,marginRight:3,width:25},pipContainer:{borderRadius:5,display:"flex",overflow:"hidden"},pipFirst:{borderBottomLeftRadius:5,borderTopLeftRadius:5},pipLast:{borderBottomRightRadius:5,borderTopRightRadius:5,marginRight:0},wrapper:{display:"block"}});var h=u;t.default=h},FNNV:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(r("q1tI")),s=r("mR6N"),o=n(r("wINb")),i=c(r("HEOz"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class d extends a.Component{constructor(...e){super(...e),this.renderPJSGuidelines=()=>"pjs"!==this.props.userAuthoredContentType?null:a.createElement("div",null,a.createElement("h3",null,i._("Using disallowed functionality")),a.createElement("p",null,i._("To ensure that the ProcessingJS programs you create on Khan Academy will continue working in the future, they should not use functionalities intentionally disabled for reasons of security, privacy, or user experience. Generally, that means that JS programs should not be accessing `externals` or the `DOM` in some way. Here are specific examples:")),a.createElement("ul",{className:(0,s.css)(u.ul)},a.createElement("li",null,i._("LocalStorage: Programs should not attempt to get or set `localStorage`. Doing so will cause projects to run out of quota.")),a.createElement("li",null,i._("Links: JS Programs should not automatically open links to other web pages, on Khan Academy or otherwise; if you want to direct learners to a relevant link please use `println()` with the URL instead.")),a.createElement("li",null,i._("Sound: Programs should only create sounds using the `playSound/getSound` functions, with the sounds listed in the soundpicker. Programs should only play sounds in response to user interaction - i.e., inside one of the `mouse*` or `key*` event handling functions. Programs should not play sounds immediately upon load, and should not loop sounds endlessly.")))),this.renderWebpageGuidelines=()=>"webpage"!==this.props.userAuthoredContentType?null:a.createElement("div",null,a.createElement("h3",null,i._("Using disallowed functionality")),a.createElement("p",null,i._("To ensure that the webpages you create on Khan Academy will continue working in the future, they should not use functionalities intentionally disabled for reasons of security, privacy, or user experience.")),a.createElement("ul",{className:(0,s.css)(u.ul)},a.createElement("li",null,i._("LocalStorage: Webpages should not store large amounts of data in localStorage or intentionally use the same keys as other programs.")),a.createElement("li",null,i._("Sound: Webpages should only create sounds using the files available to ProcessingJS programs or the Web Audio API oscillator. Webpages should also only play sounds in response to user interaction. Webpages should not play sounds immediately upon load.")))),this.renderBookmarkletGuidelines=()=>a.createElement("div",null,a.createElement("h3",null,i._("Programs with Bookmarklets")),a.createElement("p",null,i._("Programs with bookmarklet* code are not allowed and will be hidden. Bookmarklets can circumvent functionality that has been intentionally disabled, and thus they pose a risk to the user community.")),a.createElement("p",null,a.createElement("em",null,i._("*A bookmarklet is any code script that the program author asks the user to save as a browser bookmark. Clicking the bookmark with the saved code will then run the script, which has the potential to edit/delete the user’s site data or collect their personal information."))))}render(){return a.createElement("div",null,a.createElement("p",null,i._("We love when people create projects that expand their understanding of computer programming -- like drawings and animations, games, scientific visualizations, or entries to contests!")),a.createElement("p",null,i._('To keep the community focused on learning to code and creating interesting projects that align with Khan Academy’s mission and community guidelines, the following will help you understand what kind of projects are appropriate here on Khan Academy. Projects that don’t meet the guidelines may be hidden from the "hot" list or from public view.')),a.createElement("p",null,i._("Please take some time to review the guidelines below as you create your coding masterpieces. Thank you for making our community safe, informative, and appropriate for all coding learners!")),a.createElement("br",null),a.createElement("h3",null,i._('About the "Hot" list')),a.createElement("p",null,i._('The "hot" list is a gallery of projects that have been recently popular with the community, according to votes. You can find that list by clicking "Browse projects" on the Computer Programming homepage.')),a.createElement("p",null,i._('The purpose of the "hot" list is to highlight original projects that create something really cool - like a game, graphic, or interactive simulation -- feel free to vote up a project if you’re impressed by its programming, functionality, or code!')),a.createElement("h3",null,i._("Project guidelines")),a.createElement("p",null,i._("Projects should reflect the strides you’ve made in your coding journey, and beginners are always welcome to flex their creative muscles here! However, there are some basic rules to keep in mind as you do this.")),a.createElement("p",null,i._('If a project or discussion post falls into one of the following disallowed criteria, a Guardian may hide it from the "hot" list and/or public view entirely. Learners who persistently break these rules may also get banned from community activity. Projects that spur discussions that distract from learning about computer programming and coding may also get hidden.')),a.createElement("p",null,i._("A project is considered inappropriate if it falls into one or more of the following categories:")),a.createElement("h4",null,i._("Offensive")),a.createElement("ul",{className:(0,s.css)(u.ul)},a.createElement("li",null,i._("Containing discriminatory or offensive language.")),a.createElement("li",null,i._("Sexual or violent content, or any other content that could reasonably be deemed inappropriate for an educational setting."))),a.createElement("br",null),a.createElement("h4",null,i._("Off-topic")),a.createElement("ul",{className:(0,s.css)(u.ul)},a.createElement("li",null,i._("Advertisements or non-helpful links to 3rd party sites.")),a.createElement("li",null,i._("Controversial or divisive topics including religion, politics, or personal issues/revealing details that compromise learner privacy.")),a.createElement("li",null,i._("Social groups or clubs, or projects that generate social chats, and other posts not related to coding, in the discussion thread.")),a.createElement("li",null,i._("Asking others to “vote up” a project.")),a.createElement("li",null,i._("Garnering or receiving votes from a voting ring (groups of people who conspire to vote up each others’ projects). People who participate in voting rings will be banned from community activity."))),a.createElement("br",null),a.createElement("h4",null,i._("Plagiarism")),a.createElement("p",null,i._('You can create spin-offs of projects by clicking the "Spin-off" button under each project. Creating a spin-off gives credit to the original creator and connects the new project to the original. Any learner can create a spin-off of any project.')),a.createElement("p",null,i._("It’s considered plagiarism if:")),a.createElement("ul",{className:(0,s.css)(u.ul)},a.createElement("li",null,i._("A user pastes someone else's work into a new project, instead of creating a spin-off.")),a.createElement("li",null,i._("A user pastes work from multiple projects without giving credit/links to those projects in comments at the top of the project."))),a.createElement("br",null),this.renderBookmarkletGuidelines(),a.createElement("br",null),this.renderPJSGuidelines(),this.renderWebpageGuidelines(),a.createElement("p",null,i._("Nice, you read them all! You're winning like a Winston!")),a.createElement("p",null,a.createElement("img",{alt:"","aria-hidden":!0,src:(0,o.default)("/images/avatars/cs-winston.png")})))}}const u=s.StyleSheet.create({ul:{fontSize:14,listStyle:"inherit",paddingLeft:20}});var p=d;t.default=p},K91X:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=u(r("q1tI")),o=r("mR6N"),i=n(r("Pwnf")),l=r("JimW"),c=u(r("zbaY"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class p extends s.Component{constructor(...e){super(...e),this.state={currentTabIndex:0},this.onTabChange=(e,t)=>{e.preventDefault(),this.setState({currentTabIndex:t})}}render(){const e=this.props.tabs.filter((e=>e.content));return e.length?s.createElement("div",{className:(0,o.css)(h.info)},s.createElement("div",{role:"tablist",className:(0,o.css)(h.tabRow),id:"scratchpad-tabs"},e.map(((e,t)=>{const r=t===this.state.currentTabIndex;return s.createElement(l.View,{key:t,role:"tab","aria-selected":r?"true":"false",style:[h.tabTrigger,r?h.activeTab:h.inactiveTab],onClick:e=>this.onTabChange(e,t)},e.title)}))),s.createElement("div",{className:(0,o.css)(h.separator)}),s.createElement("div",{className:(0,o.css)(h.tabContent)},e[this.state.currentTabIndex].content)):null}}p.defaultProps={tabs:[]};const h=o.StyleSheet.create({info:{maxWidth:688,margin:"0 auto"},activeTab:{color:i.default.blue,borderBottom:`5px solid ${i.default.blue}`},inactiveTab:{":hover":{borderBottom:"5px solid #E3E5E6",transition:"border-width 75ms ease-in-out"},borderBottom:"0px solid #E3E5E6",transition:"border-width 150ms ease-in-out"},tabContent:(0,a.default)({},c.mixins.padding(16,16,16,16),c.typography.bodySmall,{color:c.colors.gray17}),tabRow:{display:"flex",justifyContent:"center"},tabTrigger:(0,a.default)({},c.mixins.padding(14,17,8,17),{display:"block",fontFamily:"inherit",fontSize:17,fontWeight:"bold",lineHeight:"21px",zIndex:1,cursor:"pointer",":hover":{textDecoration:"none"}}),separator:{backgroundColor:c.colors.gray85,height:1,position:"relative",top:-1}});var m=p;t.default=m},"KF/j":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=r("JasB"),l=r("yhei"),c=n(r("gE8/")),d=r("JimW"),u=r("Vxy9"),p=r("Uafs"),h=f(r("HEOz"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const g="prompt",y="inprogress",b="error",E={[g]:{title:h._("Delete this project?"),body:h._("Are you sure you want to delete this project? This can't be undone."),showSpinner:!1},[y]:{title:h._("Deleting..."),body:h._("Deleting project. You'll be redirected when it's done."),showSpinner:!0},[b]:{title:h._("Deletion Failed."),body:h._("Something went wrong and we couldn't delete the project. Please try again!"),showSpinner:!1}};class v extends a.Component{constructor(...e){super(...e),this.state={deleteModalState:g}}render(){const e=this.state.deleteModalState,t=()=>{this.setState({deleteModalState:y}),this.props.deleteScratchpad().then(void 0,(()=>this.setState({deleteModalState:b})))},r=e===g&&a.createElement(d.View,{style:w.modalFooter},a.createElement(o.default,{kind:"tertiary",onClick:this.props.onCancel},h._("Cancel")),a.createElement(i.Strut,{size:c.default.medium_16}),a.createElement(o.default,{color:"destructive",onClick:()=>{t()}},h._("Delete")));return a.createElement(p.OnePaneDialog,{closeButtonVisible:e!==y,title:E[e].title,content:a.createElement(d.View,null,a.createElement(u.Body,{tag:"p"},E[e].body),E[e].showSpinner&&a.createElement(l.CircularSpinner,{size:"medium"})),footer:r,style:w.modal})}}class S extends a.Component{constructor(...e){super(...e),this.render=()=>a.createElement(p.ModalLauncher,{modal:({closeModal:e})=>a.createElement(v,{deleteScratchpad:this.props.deleteScratchpad,onCancel:e})},(({openModal:e})=>a.createElement(o.default,{kind:"secondary",onClick:e},h._("Delete"))))}}const w=s.StyleSheet.create({modal:{maxHeight:300},modalFooter:{flexDirection:"row",justifyContent:"flex-end"}});var k=S;t.default=k},Mf8q:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=s?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r("q1tI"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}class s extends n.Component{constructor(...e){super(...e),this.loadInteractiveTranscript=()=>{Promise.all([Promise.all([r.e("ykUf"),r.e("2Lqu"),r.e("6llS"),r.e("1ZoN")]).then(r.t.bind(null,"jPIJ",7)),Promise.resolve().then(r.t.bind(null,"z782",7))]).then((([{InteractiveTranscriptView:e}])=>{const t=new e({model:this.props.transcript});t.on("subtitleSelection",(e=>{this.props.onSeekStart(),this.props.onSeek(1e3*e),this.props.onSeekEnd()})),this.props.registerPlayUpdate((e=>t.onPlayerUpdate(e))),this.refs.transcript.appendChild(t.render().el),t.showWithSlide()}))}}componentDidMount(){this.loadInteractiveTranscript()}render(){return n.createElement("div",{ref:"transcript"})}}var o=s;t.default=o},Myuz:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(r("q1tI")),s=r("mR6N"),o=n(r("wINb")),i=(r("MhIR"),r("8crR"),n(r("dFiz"))),l=d(r("HEOz"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class u extends a.Component{constructor(e){super(e),this.state={bubbleClosed:!1}}renderCritter(){return a.createElement("img",{alt:"","aria-hidden":!0,className:(0,s.css)(p.critter),src:(0,o.default)("/images/scratchpads/cool-critter.png")})}renderMessage(){const e=this.props.userScratchpad?this.props.userScratchpad.get("points"):0;return a.createElement("div",{className:(0,s.css)(p.message)},a.createElement("span",{className:(0,s.css)(p.messageHeader)},l._("Congratulations!")),e>0&&a.createElement("span",null,l.ngettext("You earned %(num)s point!","You earned %(num)s points!",e)))}renderBubble(){return this.state.bubbleClosed?null:a.createElement("div",{className:(0,s.css)(p.bubble,this.props.showAbove&&p.bubbleAbove),onClick:()=>this.setState({bubbleClosed:!0})},a.createElement("div",{className:(0,s.css)(p.inner)},this.renderCritter(),this.renderMessage()))}render(){return a.createElement("div",{className:(0,s.css)(p.wrap)},this.renderBubble())}}const p=s.StyleSheet.create({bubble:{background:"#f5f5f5",bottom:70,color:"black",borderRadius:10,cursor:"pointer",display:"inline-block",maxWidth:250,minWidth:200,padding:10,position:"absolute",right:0,zIndex:2},bubbleAbove:{bottom:"auto",right:0,top:-117},critter:{height:70,marginRight:10},inner:{display:"flex",flexDirection:"row-reverse",justifyContent:"space-around"},message:{display:"flex",flexDirection:"column"},messageHeader:{fontWeight:"bold"},toolbarButton:{marginLeft:16},wrap:{display:"inline-block",position:"relative"}});var h=(0,i.default)((e=>{const t=[];return e.userScratchpad&&t.push(e.userScratchpad),e.challenge&&t.push(e.challenge),t}))(u);t.default=h},PMNg:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=f(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=r("Vxy9"),l=r("JasB"),c=r("JimW"),d=r("Uafs"),u=n(r("gE8/")),p=r("vwLt"),h=f(r("HEOz"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class g extends a.Component{constructor(e){super(e),this.handleWidthChange=e=>{this.setState({newWidth:parseInt(e,10)})},this.handleHeightChange=e=>{this.setState({newHeight:parseInt(e,10)})},this.handleSave=()=>{this.state.newWidth&&this.props.scratchpad.set("width",this.state.newWidth),this.state.newHeight&&this.props.scratchpad.set("height",this.state.newHeight),this.props.onSaveAndClose()},this.state={newWidth:null,newHeight:null}}renderModal(e){const t=this.props.scratchpad,r=[["400",h._("400 (default)")],["500","500"],["600","600"]].map(((e,t)=>a.createElement(p.OptionItem,{key:t,label:e[1],value:e[0]}))),n="pjs"===t.get("userAuthoredContentType"),s=this.state.newWidth||t.get("width"),m=this.state.newHeight||t.get("height"),f=e.get("width-label"),g=e.get("width-select"),b=e.get("height-label"),E=e.get("height-select");return a.createElement(d.OnePaneDialog,{title:h._("Settings"),content:a.createElement(c.View,null,n&&a.createElement(a.Fragment,null,a.createElement(i.LabelMedium,{tag:"label",id:f,htmlFor:g,style:y.label},h._("Width")),a.createElement(p.SingleSelect,{"aria-labelledby":f,id:g,placeholder:h._("Choose an option"),selectedValue:s.toString(),onChange:this.handleWidthChange,style:y.select},r)),a.createElement(i.LabelMedium,{tag:"label",id:b,htmlFor:E,style:y.label},h._("Height")),a.createElement(p.SingleSelect,{"aria-labelledby":b,id:E,placeholder:h._("Choose an option"),selectedValue:m.toString(),onChange:this.handleHeightChange,style:y.select},r),a.createElement(i.Body,null,h._("To see the full effect of the size on your canvas, reload your program after saving."))),footer:a.createElement(c.View,{style:y.modalFooter},a.createElement(o.default,{kind:"tertiary",onClick:this.props.onCancel},h._("Cancel")),a.createElement(l.Strut,{size:u.default.medium_16}),a.createElement(o.default,{kind:"primary",onClick:this.handleSave},h._("Save and Close"))),style:y.modal})}render(){return a.createElement(c.UniqueIDProvider,{mockOnFirstRender:!0,scope:"coding-program-settings-user-modal"},(e=>this.renderModal(e)))}}const y=s.StyleSheet.create({label:{marginBottom:u.default.small_12},select:{marginBottom:u.default.medium_16},modal:{maxHeight:420},modalFooter:{flexDirection:"row",justifyContent:"flex-end"}});var b=g;t.default=b},Pj0g:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=b(r("q1tI")),o=r("mR6N"),i=n(r("wa3X")),l=r("JimW"),c=r("JasB"),d=r("Vxy9"),u=r("DzHr"),p=n(r("dFiz")),h=(r("MhIR"),n(r("KZFn"))),m=(r("8crR"),n(r("QilZ"))),f=b(r("6OHE")),g=b(r("HEOz"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class E extends s.Component{render(){const e=this.props.scratchpad.get("translatedTitle");if(!this.props.inEditModeAndCanEdit||!this.props.isSaveable)return s.createElement("span",null,e);return s.createElement(l.View,{style:k.titleWrap},s.createElement("span",null,e),s.createElement(c.Strut,{size:16}),s.createElement(l.View,{className:(0,o.css)(k.editTitle)},s.createElement(u.ModalLauncher,{modal:({closeModal:e})=>s.createElement(u.OneColumnModal,{content:s.createElement(l.View,null,s.createElement(d.Title,null,g._("Edit title")),s.createElement(c.Strut,{size:16}),s.createElement(d.Body,null,s.createElement("input",{type:"text",defaultValue:this.props.scratchpad.get("translatedTitle"),className:(0,o.css)(k.titleInput),onChange:e=>this.setState({newTitle:e.target.value})}))),footer:s.createElement(l.View,{style:k.modalFooter},s.createElement(i.default,{kind:"tertiary",onClick:e},g._("Cancel")),s.createElement(c.Strut,{size:16}),s.createElement(i.default,{onClick:()=>{this.props.setTitle(this.state.newTitle).then((()=>{this.props.onSave(),e()}))}},g._("Save")))})},(({openModal:e})=>s.createElement(i.default,{kind:"tertiary",onClick:e},g._("Edit title"))))))}}const v=(0,p.default)((e=>[e.scratchpad]))(E);class S extends s.Component{renderContentHeader(){const{topic:e,scratchpad:t,isDocumentation:r,isOwner:n,isOfficial:a,originScratchpad:o}=this.props,i=[{title:e.translatedTitle,href:e.relativeUrl}];o&&!a&&i.push({title:o.get("translatedTitle"),href:o.get("deleted")?"javascript: void 0":o.get("url"),forceServer:!0}),r?i.push({title:g._("Documentation"),href:t.get("docsUrlPath")}):n&&i.push({title:g._("My Projects"),href:`${this.props.profileRoot}projects`,forceServer:!0});const{inEditModeAndCanEdit:l,isSaveable:c,onSave:d,setTitle:u,translatedTitle:p}=this.props;return s.createElement(h.default,{title:s.createElement(v,{inEditModeAndCanEdit:l,isSaveable:c,onSave:d,scratchpad:t,setTitle:u,topic:e,translatedTitle:p}),breadcrumbs:i})}renderChallengePane(){const{challenge:e}=this.props;return e?s.createElement("div",null,s.createElement(m.default,{challenge:e,translatedTitle:this.props.scratchpad.get("translatedTitle")})):null}render(){return s.createElement("div",null,this.renderContentHeader(),this.renderChallengePane())}}S.defaultProps={profileRoot:"",inEditModeAndCanEdit:!1};const w=(0,p.default)((e=>{const t=[e.scratchpad];return e.originScratchpad&&t.push(e.originScratchpad),e.challenge&&t.push(e.challenge),t}))(S),k=o.StyleSheet.create({modalWrap:(0,a.default)({},f.typography.bodySmall),titleWrap:{flexDirection:"row",position:"relative"},editTitle:{bottom:0,left:"100%",position:"absolute",whiteSpace:"nowrap"},titleInput:(0,a.default)({},f.typography.bodySmall,{width:"100%"}),modalFooter:{flexDirection:"row"}});var _=w;t.default=_},QilZ:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=v(r("q1tI")),o=r("mR6N"),i=r("Pk2J"),l=n(r("Pwnf")),c=r("Uafs"),d=r("zbaY"),u=n(r("dFiz")),p=(r("8crR"),n(r("cfQQ"))),h=n(r("Q8Wn")),m=n(r("nVHT")),f=v(r("HEOz")),g=r("8crR"),y=n(r("pthG")),b=n(r("2Ikf"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class S extends s.Component{constructor(...e){super(...e),this.state={showFeedbackModal:!1},this.handleOpenFeedbackModal=()=>this.setState({showFeedbackModal:!0}),this.handleCloseFeedbackModal=()=>this.setState({showFeedbackModal:!1})}getTestGroup(){const e=this.props.challenge;let t=e.get("tests");if(e.hasSyntaxErrors()){if(!this._testsCache)return null;t=this._testsCache}return this._testsCache=t,t[Math.min(e.get("step"),t.length-1)]}renderShowFeedback(){const{challenge:e,profile:t}=this.props,r=["es","pt"].includes(h.default.kaLocale);return s.createElement(s.Fragment,null,s.createElement("a",{className:(0,o.css)(w.showFeedback),href:"javascript:void(0)",onClick:this.handleOpenFeedbackModal},f._("Report a problem")),s.createElement(c.ModalLauncher,{opened:this.state.showFeedbackModal,onClose:this.handleCloseFeedbackModal,modal:({closeModal:n})=>s.createElement(y.default,{expectPageIsTranslated:r,closeModal:n,sendFeedback:(...r)=>g.sendContentFeedback.apply(void 0,[e,t].concat(r)),stepCodeWarning:e.currentStepHasWarning(),stepGoBackNotice:e.previousStepFailed()})}))}renderSteps(){const e=this.props.challenge,t=e.editor.type,r=this.getTestGroup();return r?s.createElement("div",null,r.results.map(((n,a)=>{const o=(0,g.getColoredTextForTest)(n),i=o.indexOf("structuredjs_var")>-1,l=n.meta.alsoMessage||e.assertionsFail()&&f._("Hm, do all of your assertions pass?")||void 0;return s.createElement(b.default,{key:a,title:r.name,description:n.msg,hasHint:!(!o&&!n.meta.image),structure:o,image:n.meta.image,alternateMessage:n.meta.alternateMessage,alsoMessage:l,hasMatchingBlanks:i,isPJS:"ace_pjs"===t,isWebpage:"ace_webpage"===t,hasSyntaxErrors:e.hasSyntaxErrors()})}))):s.createElement("div",null,s.createElement(b.default,{description:f._("It looks like this code was saved with a syntax error. You'll need to fix any syntax errors or restart the challenge before we can determine which step you're on."),structure:"",alsoMessage:f._("Please take a moment to fix any syntax errors."),isPJS:"ace_pjs"===t,isWebpage:"ace_webpage"===t,title:f._("Whoops!")}))}renderLoading(){return s.createElement("div",{className:(0,o.css)(w.loading)},s.createElement(m.default,null),s.createElement("div",null,f._("Waiting for code to run...")))}renderContent(){return s.createElement("div",null,this.renderShowFeedback(),this.renderSteps())}render(){const e=this.props.challenge;return s.createElement("div",null,s.createElement("div",{className:(0,o.css)(w.wrap)},e.get("tests")?this.renderContent():this.renderLoading()))}}const w=o.StyleSheet.create({loading:{textAlign:"center",padding:20},showFeedback:{color:l.default.offBlack64,top:10,fontSize:10,position:"absolute",right:10,textDecoration:"none"},wrap:(0,a.default)({},d.moduleLayout.defaultAlignment,{color:"black",marginBottom:-20,padding:20,paddingBottom:0,position:"relative"})});var k=(0,i.compose)((0,u.default)((e=>[e.challenge])),p.default)(S);t.default=k},"V2R+":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("mR6N"),s=E(r("q1tI")),o=n(r("TSYQ")),i=n(r("wa3X")),l=r("z8VS"),c=r("JimW"),d=r("Uafs"),u=r("skGw"),p=n(r("/uDT")),h=r("MRvb"),m=n(r("uFGi")),f=n(r("+Hxn")),g=(r("MhIR"),n(r("1mos"))),y=E(r("HEOz"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class v extends s.Component{constructor(...e){super(...e),this.state={hideAuthorAndPlayback:!1,hideButtons:!1,hideEditor:!1},this.toggleEmbedButtons=()=>{this.setState({hideButtons:!this.state.hideButtons})},this.toggleEmbedEditor=()=>{this.setState({hideEditor:!this.state.hideEditor})},this.toggleEmbedAuthorAndPlayback=()=>{this.setState({hideAuthorAndPlayback:!this.state.hideAuthorAndPlayback})},this.handleFacebookClick=()=>{P.facebook(this.props.scratchpad)},this.handleTwitterClick=()=>{P.twitter(this.props.scratchpad)},this.handleEmailClick=()=>{P.email(this.props.scratchpad)}}componentDidMount(){p.default.prepFacebook()}render(){const e=s.createElement("p",{className:(0,o.default)("alert",(0,a.css)(S.unsavedAlert))},y._("Warning: there are un-saved changes in this project.")),t=s.createElement("form",null,this.props.hasUnsavedChanges()&&e,s.createElement(m.default,{disabled:!0,title:y._("Share this project by using this link:"),type:"text",value:k(this.props.scratchpad)}),s.createElement(c.View,{style:S.shareButtonGroup},s.createElement(i.default,{"aria-label":y._("Share this on Facebook"),icon:g.default.facebookSign,onClick:this.handleFacebookClick,kind:"secondary",style:S.marginRight},y._("Share")),s.createElement(i.default,{"aria-label":y._("Share this on Twitter"),icon:g.default.twitterSign,onClick:this.handleTwitterClick,kind:"secondary",style:S.marginRight},y._("Tweet")),s.createElement(i.default,{"aria-label":y._("Share this via email"),icon:g.default.envelope,onClick:this.handleEmailClick,kind:"secondary",style:S.marginRight},y._("Email"))),s.createElement(f.default,{disabled:!0,height:"150px",title:y._("Have a website? Embed this project on your site."),value:_(this.props.scratchpad,this.state)}),s.createElement(c.View,{style:S.checkboxGroup},s.createElement(l.Checkbox,{label:y._("Hide editor"),checked:this.state.hideEditor,onChange:this.toggleEmbedEditor,style:S.marginRight}),s.createElement(l.Checkbox,{label:y._("Hide buttons"),checked:this.state.hideButtons,onChange:this.toggleEmbedButtons,style:S.marginRight}),s.createElement(l.Checkbox,{label:y._("Hide author and playback"),checked:this.state.hideAuthorAndPlayback,onChange:this.toggleEmbedAuthorAndPlayback,style:S.marginRight})));return s.createElement(d.OnePaneDialog,{title:y._("Share this Project"),content:s.createElement(c.View,null,t),style:S.modal})}}const S=a.StyleSheet.create({modal:{maxHeight:500},marginRight:{marginRight:16},checkboxGroup:{flexDirection:"row"},shareButtonGroup:{flexDirection:"row",marginBottom:20},unsavedAlert:{margin:0,marginBottom:10}}),w=(e,t)=>{const r=e.get("translatedTitle");let n;return t=t||y._("Khan Academy"),n=e.isOwner()?y._('I just created "%(translatedTitle)s" on %(khanAcademy)s!',{translatedTitle:r,khanAcademy:t}):y._('I just explored "%(translatedTitle)s" on %(khanAcademy)s!',{translatedTitle:r,khanAcademy:t}),{message:n,url:k(e),imageUrl:e.urlForImage()}},k=e=>e.inTutorial()?(0,h.toAbsoluteUrl)(e.get("defaultUrlPath")):e.urlForShow(),_=(e,t)=>{const r=k(e),n=r.indexOf("computer-programming")>=0,a=e.get("translatedTitle"),s={editor:!t.hideEditor,buttons:!t.hideButtons,author:!t.hideAuthorAndPlayback,embed:!0},o={};for(const e in s)s.hasOwnProperty(e)&&(o[e]=s[e]?"yes":"no");const i=e.get("contentKind");let l;if("Scratchpad"===i)l=e.urlForShow();else{const t=e.get("defaultUrlPath"),n=t.split("/")[2];l=r.replace(t,`/${n}/${e.get("slug")}/${i}:${e.get("id")}`)}const c=`${l}/embed.js?${(0,u.encodeParams)(o)}`,d=y._('<p>Made using: <a href="%(url)s">%(title)s</a></p>',{url:"http://www.khanacademy.org/computer-programming",title:"Khan Academy Computer Science"});return`<h2><a href="${r}">${a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</a></h2><script src="${c}"><\/script>`+(n?d:"")},P={facebook(e){const t=w(e);p.default.facebookShare(t.message,t.url,t.imageUrl)},twitter(e){const t=w(e,"@khanacademy");p.default.openTwitterPopup(p.default.formatTwitterShareUrl({url:t.url,text:t.message}))},email(e){const t=w(e),r=y._("Check it out at %(url)s.",{url:t.url});window.open(p.default.formatMailtoUrl({subject:t.message,body:r}),"_newtab")}};var O=v;t.default=O},XFIM:function(e,t,r){},ZAvB:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=M(r("q1tI")),o=n(r("TSYQ")),i=r("mR6N"),l=r("Pk2J"),c=n(r("wa3X")),d=n(r("Pwnf")),u=r("JimW"),p=r("bHum"),h=r("cojK"),m=n(r("wINb")),f=(r("MhIR"),r("8crR"),n(r("osXv"))),g=n(r("nVHT")),y=r("zbaY"),b=n(r("6wxr")),E=n(r("gRsD")),v=n(r("8M3Y")),S=n(r("v10r")),w=n(r("Myuz")),k=n(r("dFiz")),_=n(r("SY2B")),P=M(r("6qX+")),O=M(r("HEOz"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const T={Arabic:{ranges:/[\u0600-\u077F\uFB50-\uFDFF\uFE70-\uFEFF]/,className:"scratchpad-editor-freemono-font-override"},Georgian:{ranges:/[\u10A0-\u10FF\u2D00-\u2D2F]/,className:"scratchpad-editor-freemono-font-override"},Hebrew:{ranges:/[\u0590-\u05FF]/,className:"scratchpad-editor-freemono-font-override"}},j={UNSTARTED_OR_COMPLETE:O._("We are changing the way that coding projects are saved to be more similar to coding challenges, which means that we no longer automatically create a spin-off when you begin a project. If you’d like to save this code to your profile when you’ve completed the project, please click the spin-off button."),IN_PROGRESS:O._("We are changing the way that coding projects are saved to be more similar to coding challenges. We no longer automatically create a spin-off when you begin a project. Your previously created spin-off can be found in the Spin-offs tab below the program. We have copied its code into the editor. If you’d like to save this program to your profile when you’ve completed the project, please click the spin-off button or copy the code into your existing spin-off.")},x=e=>{let t="coding_program_page";return e.isProjectOrFork()?t="coding_project_page":e.isChallenge()?t="coding_challenge_page":e.isTalkie()?t="coding_talkthrough_page":e.isOfficial()&&(t="coding_interactive_page"),t};class N extends s.Component{constructor(...e){super(...e),this.handleCodeRun=()=>{if(this._codeHasRun)return;this._codeHasRun=!0;const e=x(this.props.scratchpad);P.reportPageUsableTiming(e),P.reportPageInteractiveTiming(e)},this._sawCodeChange=!1,this.markConversion=()=>{this._sawCodeChange||(this.props.markConversion({id:"code_edited"}),this._sawCodeChange=!0)}}componentDidMount(){this.props.registerCodeRun(this.handleCodeRun),"Talkthrough"!==this.props.scratchpad.get("contentKind")&&this.props.registerUserCodeChange(this.markConversion)}isFullyWatched(){return this.props.userScratchpad.get("fullyWatched")}maybeCustomEditorFontClass(){const{hideEditor:e,scratchpad:t}=this.props;if(e)return null;if(!t.isOwner()&&!t.isChallenge())return null;const r=t.getCode();if(!r)return null;for(const{ranges:e,className:t}of Object.values(T))if(r.match(e))return t;return null}renderProjectEvalArea(){return this.props.showProjectEvalArea?s.createElement("div",{className:(0,o.default)("scratchpad-project-eval-mount",(0,i.css)(A.evalMount))}):null}renderProjectSpinoffNotice(){if(this.props.embeddedAndWithFrame)return null;if(this.props.numProjectSpinoffs<0)return null;let e,t=null;return this.props.userScratchpad.get("isComplete")||0===this.props.numProjectSpinoffs?e=j.UNSTARTED_OR_COMPLETE:(e=j.IN_PROGRESS,t=s.createElement(c.default,{href:"#scratchpad-tabs",kind:"primary",skipClientNav:!0},O._("View Your Spin-offs"))),s.createElement(u.View,{style:{marginBottom:16}},s.createElement(f.default,null,s.createElement(u.View,{style:A.spinoffNoticeContentsContainer},s.createElement("span",{className:(0,i.css)(A.spinoffText)},s.createElement("strong",null,e)),t)))}renderYoutubePlaybackLink(){return this.props.youtubeUrl?s.createElement("div",{className:"scratchpad-editor-youtube-link alert alert-info",style:{display:"none"}},s.createElement("span",{className:"close","data-dismiss":"alert"},"×"),s.createElement("a",{href:this.props.youtubeUrl,target:"_blank"},O._("If the audio never loads, reload the page or watch on YouTube."))):null}renderAudioPlayback(){return this.props.hasAudio?s.createElement("div",null,s.createElement("div",{className:"scratchpad-editor-bigplay-loading"},s.createElement(g.default,null),s.createElement("span",{className:"hide-text"},O._("Loading..."))),s.createElement("div",{id:"sm2-container"},O._("Enable Flash to load audio:"),s.createElement("br",null)),this.renderYoutubePlaybackLink(),s.createElement("button",{className:"scratchpad-editor-bigplay-button",style:{display:"none"}},s.createElement(b.default,{icon:R.play}),s.createElement("span",{className:"hide-text"},O._("Play")))):null}renderPlaybackBar(){if(!this.props.hasAudio)return null;const{liveEditorPromise:e,onSeek:t,onSeekEnd:r,onSeekStart:n,youtubeUrl:a}=this.props,{isSaveable:o,isSpinOffAllowed:l,registerTriggerSave:c,registerTriggerSpinOff:d,saveScratchpad:u,scratchpad:p,setTitle:h}=this.props,{challenge:m,userScratchpad:f}=this.props;return s.createElement("div",{className:(0,i.css)(A.playbar)},s.createElement("div",{className:(0,i.css)(A.playbackBar)},s.createElement(v.default,{liveEditorPromise:e,onSeek:t,onSeekEnd:r,onSeekStart:n,youtubeUrl:a})),s.createElement(S.default,{isSaveable:o,isSpinOffAllowed:l,registerTriggerSave:c,registerTriggerSpinOff:d,saveScratchpad:u,scratchpad:p,setTitle:h}),this.isFullyWatched()&&s.createElement(w.default,{challenge:m,userScratchpad:f,showAbove:!0}))}renderSaveProgress(){return this.props.embeddedAndWithFrame?null:s.createElement("div",{id:"save-progress-text"})}renderEditor(){const e="document"===this.props.scratchpad.get("userAuthoredContentType");return s.createElement("div",{className:(0,o.default)("scratchpad-editor-wrap","overlay-container",(0,i.css)(A.editorWrap,this.props.hideEditor&&A.editorHidden))},s.createElement("div",{className:(0,o.default)("scratchpad-editor-tabs",(0,i.css)(A.editorContainer,A.noBorder))},s.createElement("div",{id:"scratchpad-code-editor-tab",className:(0,o.default)("scratchpad-editor-tab",this.maybeCustomEditorFontClass(),(0,i.css)(A.editorTab,e&&A.editorTabDocument))},s.createElement("div",{className:(0,o.default)("scratchpad-editor","scratchpad-ace-editor",(0,i.css)(A.inputFrame,A.noBorder))}),s.createElement("div",{className:"overlay disable-overlay",style:{display:"none"}}),this.renderAudioPlayback())))}renderDragHandle(){return this.props.scratchpad.isResizableType()?s.createElement("div",{className:(0,o.default)("scratchpad-drag-handle",(0,i.css)(A.dragHandle,this.props.hideEditor&&A.editorHidden))}):null}renderOutputFrame(){const e=this.props.sandboxUrl,t=this.props.scratchpad.isResizableType(),r=this.props.hideEditor;return e?s.createElement("iframe",{id:"output-frame",className:(0,i.css)(A.noBorder,A.outputFrame,t&&r&&A.outputFrameNoEditorResizable),sandbox:this.props.sandboxProps,src:(0,m.default)(`${e}&v=${this.props.appVersion}&host=${encodeURIComponent(window.location.host)}`),"data-src":e,style:{width:"100%"}}):null}renderCanvasToolbar(){return this.props.hideEditor&&this.props.hasAudio?this.renderAudioPlayback():null}renderDrawCanvas(){const e=this.props.scratchpad.get("width"),t=this.props.scratchpad.get("height");return s.createElement("canvas",{className:"scratchpad-draw-canvas",style:{display:"none"},width:e,height:t})}renderCanvas(){if(!this.props.sandboxUrl)return this.renderDrawCanvas();const e=this.props.scratchpad.isResizableType(),t=this.props.hideEditor;return s.createElement("div",{className:(0,o.default)("scratchpad-canvas-wrap",(0,i.css)(this.props.hideEditor&&A.canvasWrapNoEditor,A.canvasWrap))},s.createElement("div",{id:"output",className:(0,i.css)(A.output,e&&t&&A.outputNoEditorResizable)},this.renderOutputFrame(),this.renderDrawCanvas(),s.createElement("div",{className:"overlay disable-overlay",style:{display:"none"}}),s.createElement("div",{className:"scratchpad-canvas-loading"},s.createElement(g.default,null),s.createElement("span",{className:"hide-text"},O._("Loading...")))),this.renderCanvasToolbar())}renderDescription(){if("Talkthrough"===this.props.scratchpad.get("contentKind")||"Challenge"===this.props.scratchpad.get("contentKind"))return null;let e=this.props.scratchpad.get("translatedDescription");if(!e){const t=this.props.originScratchpad;t&&t.isProject()&&(e=t.get("translatedDescription"))}return e?s.createElement("div",{className:(0,i.css)(A.description),dangerouslySetInnerHTML:{__html:e}}):null}render(){const e=this.props.scratchpad.isResizableType(),t=this.props.hideEditor,{challenge:r,embeddedAndWithFrame:n,hideSave:a,inEditModeAndCanEdit:l,isChallenge:c,isNew:d,isProject:u,isRedirectedProjectFork:p,onStartOver:h,onRequestHelp:m,onUndo:f,restartLabel:g,scratchpad:y,showProjectHelpButton:b,showStartOverButton:v,topic:S,userScratchpad:w,isSaveable:k,isSpinOffAllowed:P,registerTriggerSave:O,registerTriggerSpinOff:C,saveScratchpad:M,setTitle:T,liveEditorPromise:j,registerCodeChange:N,shouldHideRestart:R}=this.props;return s.createElement("div",{className:(0,i.css)(A.wrap)},this.renderDescription(),this.renderProjectEvalArea(),this.renderProjectSpinoffNotice(),s.createElement("div",{className:(0,o.default)("scratchpad-wrap",this.props.sandboxUrl?"":"no-output",(0,i.css)(A.wrapScratchpad,t&&e&&A.wrapScratchpadNoEditorResizable))},s.createElement("div",{className:(0,i.css)(A.wrapScratchpadOuter)},s.createElement("div",{className:(0,i.css)(A.wrapScratchpadInner,!this.props.hideEditor&&A.wrapScratchpadInnerBorder)},this.renderEditor(),this.renderDragHandle(),this.renderCanvas()),this.renderPlaybackBar(),!this.props.hasAudio&&!this.props.hideEditor&&s.createElement(E.default,{challenge:r,embeddedAndWithFrame:n,hideSave:a,inEditModeAndCanEdit:l,isChallenge:c,isNew:d,isProject:u,isRedirectedProjectFork:p,onStartOver:h,onRequestHelp:m,onUndo:f,restartLabel:g,scratchpad:y,showProjectHelpButton:b,showStartOverButton:v,topic:S,userScratchpad:w,isSaveable:k,isSpinOffAllowed:P,registerTriggerSave:O,registerTriggerSpinOff:C,saveScratchpad:M,setTitle:T,liveEditorPromise:j,registerCodeChange:N,shouldHideRestart:R}))),this.renderSaveProgress(),s.createElement(_.default,{pageName:x(y),markFullyInteractiveOnMount:!1,markSufficientlyUsable:"other"}))}}const R={play:"M1.6,9.9C1.5,10,1.3,10,1.2,10C1.1,10,1,10,0.9,9.9C0.7,9.8,0.6,9.6,\n        0.6,9.4V0.6c0-0.2,0.2-0.4,0.4-0.5C1.1,0,1.4,0,1.6,0.1l7.6,4.5c0.2,0.1,\n        0.3,0.3,0.3,0.5c0,0.2-0.1,0.4-0.3,0.5L1.6,9.9z"},D=`1px solid ${d.default.offBlack16}`,W=400,A=i.StyleSheet.create({canvasWrap:{flexShrink:0},description:{marginBottom:15},dragHandle:{background:d.default.offBlack16,cursor:"ew-resize",display:"table-cell",flexShrink:0,width:2},editorWrap:{borderRight:D,display:"flex",flexDirection:"column",marginRight:"auto",minHeight:W,flexGrow:1,flexShrink:1},editorHidden:{display:"none"},editorContainer:{display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,position:"relative"},editorTab:{position:"absolute",padding:0,height:"100%",width:"100%"},editorTabDocument:{position:"static"},evalMount:{marginTop:-10},noBorder:{border:"none"},inputFrame:{height:"100%",position:"relative"},canvasWrapNoEditor:{margin:"0 auto"},output:{border:"none",margin:"auto",minHeight:W,minWidth:W},outputNoEditorResizable:{minWidth:"100%"},outputFrame:{borderBottom:"1px transparent solid",borderTop:"1px transparent solid",marginTop:-1,minWidth:W},outputFrameNoEditorResizable:{minWidth:"100%",left:0},playbar:{border:D,boxSizing:"border-box",display:"flex",height:64,paddingLeft:16,paddingRight:16,paddingTop:12},playbackBar:{flex:"1 0 0"},wrap:(0,a.default)({},y.moduleLayout.defaultAlignment,{display:"flex",flexDirection:"column"}),wrapScratchpad:{position:"relative",zIndex:0,flexGrow:1,display:"flex",flexDirection:"row",minWidth:W},wrapScratchpadNoEditorResizable:{minWidth:"100%"},wrapScratchpadOuter:{flexGrow:1,overflow:"auto"},wrapScratchpadInner:{display:"flex"},wrapScratchpadInnerBorder:{border:D,borderBottom:"none"},spinoffNoticeContentsContainer:{display:"flex",flexDirection:"row",alignItems:"center"},spinoffText:{flexGrow:1}});var I=(0,l.compose)((0,k.default)((e=>{const t=[e.scratchpad];return e.originScratchpad&&t.push(e.originScratchpad),e.creatorProfile&&t.push(e.creatorProfile),e.userScratchpad&&t.push(e.userScratchpad),t})),(0,p.withConversionContext)((e=>({activity:p.enums.Activity.PROGRAMMING,product:p.enums.Product.OTHER_PRODUCT}))),h.withMarkConversion)(N);t.default=I},dbFz:function(e,t,r){},gRsD:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=O(r("q1tI")),s=n(r("17x9")),o=n(r("fhzG")),i=r("mR6N"),l=n(r("Pwnf")),c=n(r("dFiz")),d=n(r("thi5")),u=n(r("wINb")),p=r("Vxy9"),h=n(r("wa3X")),m=n(r("yts4")),f=r("JasB"),g=n(r("C7u4")),y=r("JimW"),b=r("Uafs"),E=(r("MhIR"),r("8crR")),v=n(r("v10r")),S=n(r("Myuz")),w=n(r("ExyH")),k=n(r("4X7z")),_=O(r("HEOz"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const{CritterAppearance:C,CritterButtonMessages:M,getCritterAppearanceReason:T}=k.default;class j extends a.Component{constructor(e){super(e),this.handleLiveEditorReady=e=>{const t=e.editor;(this.props.isProject||this.props.isRedirectedProjectFork||this.props.isChallenge)&&this.props.topic.relativeUrl.indexOf("/programming/")>-1&&t.blockPaste&&t.blockPaste((()=>{this.setState({disablePasteOpened:!0})}))},this.state={showStartOverModal:!1,disablePasteOpened:!1}}componentDidMount(){this.props.liveEditorPromise.then(this.handleLiveEditorReady)}renderStartOverButton(){if(this.props.embeddedAndWithFrame||!this.props.showStartOverButton)return null;return a.createElement(b.ModalLauncher,{modal:({closeModal:e})=>a.createElement(b.OnePaneDialog,{style:A.shortModal,title:_._("Start over"),content:a.createElement(p.Body,{tag:"p"},_._("Are you sure you want to discard your changes? This can't be undone.")),footer:a.createElement(y.View,{style:A.modalFooter},a.createElement(h.default,{kind:"tertiary",onClick:e},_._("Cancel")),a.createElement(f.Strut,{size:16}),a.createElement(h.default,{color:"destructive",onClick:()=>{e(),this.props.onStartOver()}},_._("Start over")))})},(({openModal:e})=>a.createElement(h.default,{kind:"secondary",style:A.buttonOnLeft,onClick:e},_._("Start over"))))}renderUndoButton(){return this.props.isChallenge&&a.createElement(h.default,{kind:"secondary",onClick:this.props.onUndo,style:A.buttonOnLeft},_._("Undo"))}renderShowOnKAButton(){return this.props.isNew||!this.props.embeddedAndWithFrame||this.props.isChallenge?null:a.createElement(h.default,{kind:"secondary",href:this.props.scratchpad.get("url"),target:"_blank",style:A.buttonOnRight},_._("View in new tab"))}renderProjectHelpButton(){if(this.props.embeddedAndWithFrame||!this.props.showProjectHelpButton)return null;const e=this.props.isProject&&!this.props.isRedirectedProjectFork;return a.createElement(b.ModalLauncher,{modal:({closeModal:e})=>a.createElement(b.OnePaneDialog,{style:A.shortModal,title:_._("Request help"),content:a.createElement(p.Body,{tag:"p"},_._("If you'd like to request help on this project, please make a spin-off of the project first.")),footer:a.createElement(y.View,{style:A.modalFooter},a.createElement(h.default,{onClick:()=>{e()}},_._("Okay")))})},(({openModal:t})=>a.createElement(h.default,{kind:"secondary",style:A.buttonOnLeft,onClick:()=>{e?t():this.props.onRequestHelp()}},_._("Request help"))))}renderProgress(){const{challenge:e}=this.props;return e?a.createElement(R,{challenge:e}):null}renderSaveButtons(){const{isSaveable:e,isSpinOffAllowed:t,registerTriggerSave:r,registerTriggerSpinOff:n,saveScratchpad:s,scratchpad:o,setTitle:i}=this.props;return a.createElement(v.default,{isSaveable:e,isSpinOffAllowed:t,registerTriggerSave:r,registerTriggerSpinOff:n,saveScratchpad:s,scratchpad:o,setTitle:i})}renderPasteDisabled(){const e=_._("To make sure you get the most out of these challenges, we've disabled pasting code from outside. Studies show that typing code helps our brain solidify the concepts more.");return a.createElement(b.ModalLauncher,{onClose:()=>{this.setState({disablePasteOpened:!1})},opened:this.state.disablePasteOpened,modal:({closeModal:t})=>a.createElement(b.OnePaneDialog,{style:A.shortModal,title:_._("Sorry!"),content:a.createElement(p.Body,null,e),footer:a.createElement(h.default,{onClick:t},_._("Okay"))})})}render(){const e=a.createElement(a.Fragment,null,this.renderUndoButton(),this.renderStartOverButton(),this.renderProjectHelpButton(),this.renderPasteDisabled(),a.createElement(N,null)),{liveEditorPromise:t,registerCodeChange:r,restartLabel:n,shouldHideRestart:s}=this.props,o=a.createElement(a.Fragment,null,a.createElement(x,{liveEditorPromise:t,registerCodeChange:r,restartLabel:n,shouldHideRestart:s}),this.renderShowOnKAButton(),this.renderProgress(),this.renderSaveButtons());return a.createElement(g.default,{leftContent:e,rightContent:o})}}class x extends a.Component{constructor(e){super(e),this.handleUpdate=()=>{this._isMounted&&this.setState({hidden:this.props.shouldHideRestart()})},this.animate=()=>{this.setState({animating:!0}),window.setTimeout((()=>{this._isMounted&&this.setState({animating:!1})}),500)},this.state={animating:!1,hidden:!0},this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.registerCodeChange(this.handleUpdate),this.props.liveEditorPromise.then(this.handleUpdate)}componentWillUnmount(){this._isMounted=!1}render(){return this.state.hidden?null:a.createElement(h.default,{onClick:this.animate,kind:"secondary",id:"restart-code",style:[A.buttonOnRight,A.restartButton]},a.createElement("span",{className:(0,i.css)(A.restartLabel)},a.createElement(m.default,{icon:D,size:"medium",style:[A.restartIcon,this.state.animating&&A.restartFlip]}),a.createElement("span",null,this.props.restartLabel)))}}const N=()=>a.createElement("div",{className:(0,i.css)(A.errorBuddyContainer,A.buttonOnLeft)},a.createElement("div",{className:"error-buddy-resting"},a.createElement("div",{className:"error-buddy-happy",style:{display:"none",height:15}},a.createElement("img",{alt:"",src:(0,u.default)("/images/ohnoes-happy.png")})),a.createElement("button",{className:`error-buddy-thinking ${(0,i.css)(A.buttonReset,A.errorBuddyThinking)}`,style:{display:"none"}},a.createElement("img",{alt:"",src:(0,u.default)("/images/ohnoes-hmm.png")}),a.createElement("span",{className:(0,i.css)(A.errorBuddyHmm)},_._("Hmm..."))))),R=(0,o.default)({displayName:"ChallengeTools",propTypes:{challenge:s.default.instanceOf(E.ScratchpadChallenge).isRequired},mixins:[(0,d.default)({getModel:e=>e.challenge,getState:e=>({appearanceReason:!e.hasSyntaxErrors()&&T(e),hasSyntaxErrors:e.hasSyntaxErrors(),currentStep:e.get("step"),stepStatus:e.get("tests")&&e.get("tests").map((e=>"pass"===e.state))})})],shouldComponentUpdate:(e,t)=>!t.hasSyntaxErrors,renderProgress(){const e=this,{currentStep:t,stepStatus:r}=e.state;return r&&a.createElement(w.default,{currentStep:t,onClickStep:t=>e.props.challenge.moveToStep(t),stepStatus:r})},renderCritter(){const e=this,t=e.props.challenge;if(!e.state.appearanceReason){const e=C.GO_TO_NEXT_STEP,t=M[e];return a.createElement(h.default,{disabled:!0,style:A.buttonOnRight},t)}const r={[C.STEPS_COMPLETE]:()=>t.completeChallenge(),[C.GO_TO_NEXT_STEP]:()=>t.moveToStep(t.firstFailure()),[C.FIX_PREVIOUS_STEP]:()=>t.moveToStep(t.firstFailure())};return e.state.appearanceReason===C.CHALLENGE_COMPLETE?a.createElement(S.default,{challenge:t,userScratchpad:t.get("userScratchpad"),showAbove:!1}):a.createElement(k.default,{reason:e.state.appearanceReason,onAcknowledge:r[e.state.appearanceReason]})},render(){return a.createElement("div",{className:(0,i.css)(W.challengeToolbar)},a.createElement("div",{className:(0,i.css)(W.challengeProgressWrap)},this.renderProgress()),this.renderCritter())}}),D={medium:"M18.071 18.644c-3.532 3.232-9.025 3.13-12.452-.297a9.014 9.014 0 0 1-2.636-6.866 1 1 0 0 1 1.997.105 7.014 7.014 0 0 0 2.053 5.346c2.642 2.642 6.856 2.747 9.606.31h-1.81a1 1 0 1 1 0-2h4.242a1 1 0 0 1 1 1v4.243a1 1 0 0 1-2 0v-1.84zM7.361 6.757h1.81a1 1 0 0 1 0 2H4.93a1 1 0 0 1-1-1V3.515a1 1 0 1 1 2 0v1.84c3.532-3.231 9.025-3.13 12.452.298a9.014 9.014 0 0 1 2.636 6.866 1 1 0 1 1-1.997-.105 7.014 7.014 0 0 0-2.053-5.346c-2.642-2.642-6.856-2.747-9.606-.31z"},W=i.StyleSheet.create({challengeProgressWrap:{marginLeft:16},challengeToolbar:{display:"flex",marginLeft:5}}),A=i.StyleSheet.create({shortModal:{maxHeight:300},buttonOnLeft:{marginRight:16},buttonOnRight:{marginLeft:16},errorBuddyContainer:{display:"inline-flex",height:32,position:"relative",width:50,cursor:"pointer"},errorBuddyThinking:{color:l.default.offBlack,":hover":{textDecoration:"underline"}},errorBuddyHmm:{marginLeft:8},modalFooter:{flexDirection:"row"},restartButton:{paddingLeft:12},restartLabel:{alignItems:"center",display:"flex"},restartIcon:{display:"block",marginRight:6},restartFlip:{animationName:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}},animationDuration:"0.5s",animationIterationCount:"infinite"},buttonReset:{border:"none",margin:0,padding:0,overflow:"visible",outline:"none",cursor:"pointer",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit",WebkitAppearance:"none"}});var I=(0,c.default)((e=>{const t=[e.scratchpad];return e.userScratchpad&&t.push(e.userScratchpad),e.challenge&&t.push(e.challenge),t}))(j);t.default=I},o1w5:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=b(r("q1tI")),o=r("mR6N"),i=n(r("wa3X")),l=r("JasB"),c=r("JimW"),d=r("Uafs"),u=n(r("gE8/")),p=n(r("dFiz")),h=(n(r("bLWT")),r("MhIR"),n(r("V2R+"))),m=n(r("KF/j")),f=n(r("8jLB")),g=b(r("HEOz"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class E extends s.Component{constructor(e){super(e),this.state={DiscussionMeta:null,DiscussionItemModel:null},this._mounted=!1}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}isOfficial(){return this.props.embedded||this.props.isOfficial||this.props.isDocumentation}renderDeleteButton(){return this.props.hideSpinOffs||this.props.isNew||!this.props.isOwner||this.props.isRedirectedProjectFork?null:s.createElement(m.default,{deleteScratchpad:this.props.deleteScratchpad})}renderSettingsButton(){if(this.props.isNew||!this.props.inEditModeAndCanEdit)return null;const{onSave:e,scratchpad:t}=this.props;return s.createElement(f.default,{onSave:e,scratchpad:t})}renderNewProjectButton(){const e=this.props.scratchpad.get("newUrlPath");return this.props.isNew||this.props.embedded||!e?null:s.createElement(i.default,{kind:"secondary",href:e,target:"_blank"},this.props.newTitle)}renderChildAccountNotice(){return!this.props.isNew&&this.props.private&&this.props.creatorProfile?s.createElement(i.default,{kind:"secondary",disabled:!0},g._("Child account program")):null}renderVotingControls(){if(this.props.isNew||this.props.private||this.isOfficial()||!this.props.scratchpadKey)return null;if(this.loadDiscussionMeta(),!this.state.DiscussionMeta||!this.state.DiscussionItemModel)return null;const e=new this.state.DiscussionItemModel((0,a.default)({badges:[],flags:[],key:this.props.scratchpadKey,model:this.props.scratchpad},this.props.discussionMeta,{type:"scratchpad"})),{DiscussionMeta:t}=this.state;return t?s.createElement(t,{model:e}):null}loadDiscussionMeta(){this.state.DiscussionMeta||Promise.all([Promise.all([r.e("ykUf"),r.e("2Lqu"),r.e("7M0z"),r.e("2m0x"),r.e("7Jfm"),r.e("3u3S"),r.e("2TCQ")]).then(r.t.bind(null,"gdZe",7)).then((e=>e)),Promise.all([r.e("ykUf"),r.e("7Jfm")]).then(r.t.bind(null,"qgfM",7)).then((e=>e))]).then((([{DiscussionMeta:e},{DiscussionItemModel:t}])=>{this._mounted&&this.setState({DiscussionMeta:e,DiscussionItemModel:t})}))}renderShareButton(){if(this.props.isNew||this.props.private||!this.props.showShareButton)return null;const{hasUnsavedChanges:e,scratchpad:t}=this.props;return s.createElement(d.ModalLauncher,{modal:({closeModal:r})=>s.createElement(h.default,{hasUnsavedChanges:e,scratchpad:t})},(({openModal:e})=>s.createElement(i.default,{kind:"secondary",onClick:e},g._("Share"))))}renderModeratorsArea(){if(this.props.isNew||this.props.scratchpad.get("isPublished")||this.props.private||!this.props.isModerator||"Scratchpad"!==this.props.scratchpad.get("contentKind"))return null;const e=this.props.scratchpad.get("deleted")?g._("Undo hide everywhere"):g._("Hide everywhere"),t=this.props.scratchpad.get("hideFromHotlist")?g._("Undo hide from hotlist"):g._("Hide from hotlist");return s.createElement(c.View,{style:v.buttonsRow},s.createElement(i.default,{kind:"secondary",onClick:()=>this.props.onToggleProp("deleted")},e),s.createElement(l.Strut,{size:u.default.small_12}),s.createElement(i.default,{kind:"secondary",onClick:()=>this.props.onToggleProp("hideFromHotlist")},t))}render(){const e=[{key:"delete",rendered:this.renderDeleteButton()},{key:"settings",rendered:this.renderSettingsButton()},{key:"child",rendered:this.renderChildAccountNotice()},{key:"voting",rendered:this.renderVotingControls()},{key:"share",rendered:this.renderShareButton()},{key:"new",rendered:this.renderNewProjectButton()}].filter((e=>null!=e.rendered)).map(((e,t)=>s.createElement(s.Fragment,{key:e.key},e.rendered,s.createElement(l.Strut,{size:u.default.small_12}))));return s.createElement(s.Fragment,null,s.createElement(c.View,{style:v.buttonsRow},e),this.renderModeratorsArea())}}E.defaultProps={showShareButton:!0};const v=o.StyleSheet.create({buttonsRow:{flexDirection:"row",justifyContent:"center",marginBottom:22}});var S=(0,p.default)((({scratchpad:e})=>[e]))(E);t.default=S},"ob/S":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.loadUserSpinoffs=t.loadTranscript=void 0;var a=r("skGw"),s=n(r("Q8Wn")),o=r("4PhQ");t.loadTranscript=e=>new Promise(((t,n)=>{Promise.all([r.e("ykUf"),r.e("2Lqu"),r.e("6llS"),r.e("1ZoN")]).then(r.t.bind(null,"jPIJ",7)).then((({VideoTranscript:r})=>{const a=new r({youtubeId:e,kaLocale:s.default.kaLocale});a.fetch({success:()=>{a.hasValid()||n(new o.KAError("Transcript is missing",o.Errors.Internal)),t(a)}})}))}));t.loadUserSpinoffs=e=>{const t=`/api/internal/scratchpads/${`Project:${e}`}/user-forks?casing=camel&subject=all`;return(0,a.khanFetch)(t).then((e=>e.json())).then((e=>e.scratchpads))}},pnSh:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=n(r("8OQS")),o=b(r("q1tI")),i=r("mR6N"),l=n(r("SGU3")),c=r("JimW"),d=r("Pk2J"),u=n(r("cfQQ")),p=b(r("zbaY")),h=(r("MhIR"),n(r("o1w5"))),m=n(r("dFiz")),f=b(r("HEOz"));const g=["originScratchpad","lastUpdatedTime","profile","profileLoading","profileError"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class E extends o.Component{constructor(e){super(e),this.state={TimeAgo:null},this._isMounted=!1}componentDidMount(){this._isMounted=!0,r.e("60tB").then(r.t.bind(null,"vRNn",7)).then((e=>e.default)).then((e=>{this._isMounted&&this.setState({TimeAgo:e})}))}componentWillUnmount(){this._isMounted=!1}renderDescription(){if("Talkthrough"!==this.props.scratchpad.get("contentKind")&&"Challenge"!==this.props.scratchpad.get("contentKind"))return null;const e=this.props.scratchpad.get("translatedDescription");return e?o.createElement("div",{className:(0,i.css)(v.description),dangerouslySetInnerHTML:{__html:e}}):null}renderButtons(){const e=this.props,t=(0,s.default)(e,g);return o.createElement(h.default,t)}renderSpinOffParentDetails(){const e=this.props.originScratchpad;if(!e||this.props.embedded)return null;let t=o.createElement(l.default,{href:e.get("url")},e.get("translatedTitle"));return e.get("deleted")&&(t=e.get("translatedTitle")),o.createElement("div",null,f.$_("Based on: %(title)s",{title:t}))}getNickname(){const{creatorProfile:e,scratchpad:t,profile:r}=this.props,n=t.get("kaid");if(!e||!e.get("nickname"))return o.createElement(c.View,{"data-user-kaid":n},f._("New visitor"));const a=e.get("nickname"),s=r&&r.get("isModerator");return e.get("isPublic")||s?o.createElement(l.default,{href:e.get("profileRoot"),"data-user-kaid":n},a):o.createElement(c.View,{"data-user-kaid":n,style:v.nicknameNoLink},a)}renderCreatorDetails(){if(!this.props.creatorProfile)return null;const e=this.getNickname(),{TimeAgo:t}=this.state;if(t){const r=o.createElement(t,{time:this.props.lastUpdatedTime}),n=o.createElement("span",{className:(0,i.css)(v.lastUpdated)},"(",f.$_("Updated %(time)s",{time:r}),")");return o.createElement("div",null,f.$_("Created by: %(nickname)s",{nickname:e}),!this.props.embedded&&this.props.lastUpdatedTime&&n)}return o.createElement("div",null,f.$_("Created by: %(nickname)s",{nickname:e}))}render(){return o.createElement("div",{className:(0,i.css)(v.about)},this.renderDescription(),this.renderButtons(),this.renderSpinOffParentDetails(),this.renderCreatorDetails())}}const v=i.StyleSheet.create({about:(0,a.default)({},p.typography.bodySmall,{color:p.colors.gray17,textAlign:"center"}),description:{marginBottom:22,textAlign:"left"},lastUpdated:{marginLeft:4},nicknameNoLink:{display:"inline-block"}});var S=(0,d.compose)((0,m.default)((e=>{const t=[e.scratchpad];return e.originScratchpad&&t.push(e.originScratchpad),e.creatorProfile&&t.push(e.creatorProfile),t})),u.default)(E);t.default=S},pthG:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=f(r("q1tI")),o=r("mR6N"),i=n(r("wa3X")),l=r("Uafs"),c=r("JimW"),d=r("whzC"),u=n(r("6wxr")),p=n(r("+Hxn")),h=f(r("HEOz"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const g={TOO_HARD:"inability",DONT_UNDERSTAND_HINT:"hintcode",UNEXPECTED_SYNTAX_ERROR:"syntax",GRADER_FALSE_NEGATIVE:"grader",INSTRUCTIONS_CONFUSING:"instructions",EDITOR_BROKEN:"editor",NOT_TRANSLATED:"translated",OTHER_FEEDBACK:"other"};class y extends s.Component{constructor(...e){super(...e),this.state={feedbackType:null,error:!1},this.handleChooseFeedbackType=e=>{this.setState({feedbackType:e})},this.handleResolve=(e,t,r)=>{this.setState({error:!1});const n=()=>this.props.sendFeedback(this.state.feedbackType||g.OTHER_FEEDBACK,e,t,r);return r?(this.props.closeModal(),n().catch((e=>{if(400!==e.response.status)throw e}))):n().then((()=>{this.props.closeModal()})).catch((e=>{throw this.setState({error:!0}),e}))},this.restart=()=>{this.setState({feedbackType:null,error:!1})},this.renderFeedbackTypeMenu=()=>{const e=Object.keys(g).map(((e,t)=>{const r=g[e];return s.createElement(E,{key:t,onClick:()=>this.handleChooseFeedbackType(r)},b[r])}));return s.createElement("form",null,e)},this.renderTitle=()=>this.state.feedbackType?b[this.state.feedbackType]:h._("Which best describes your problem?"),this.renderFooter=()=>this.state.feedbackType&&s.createElement(i.default,{onClick:()=>this.restart(),kind:"tertiary"},"< "+h._("Report a different problem"))}renderErrorMessage(){if(this.state.error)return s.createElement("em",null,h._("There was a problem submitting your feedback. Try again?"))}renderOptionsForFeedbackType(){if(!this.state.feedbackType)return null;const e=I[this.state.feedbackType];return s.createElement(e,(0,a.default)({handleResolve:this.handleResolve},this.props))}render(){return s.createElement(l.OnePaneDialog,{title:this.renderTitle(),content:s.createElement(c.View,null,null===this.state.feedbackType?this.renderFeedbackTypeMenu():this.renderOptionsForFeedbackType(),this.renderErrorMessage()),footer:this.renderFooter()})}}const b={[g.TOO_HARD]:h._("This step is too hard, I don't feel prepared enough to do it."),[g.DONT_UNDERSTAND_HINT]:h._("I don't understand what the hint code with the boxes and blanks mean."),[g.UNEXPECTED_SYNTAX_ERROR]:h._("There's an \"Oh Noes!\" message, and I can't get it to go away."),[g.GRADER_FALSE_NEGATIVE]:h._("I did this step correctly, but it won't let me continue."),[g.INSTRUCTIONS_CONFUSING]:h._("This step's instructions are confusing. I'm not sure what it wants me to do."),[g.EDITOR_BROKEN]:h._("The editor in my browser is broken."),[g.NOT_TRANSLATED]:h._("I don't speak English — and the instructions aren't translated."),[g.OTHER_FEEDBACK]:h._("I have other feedback.")},E=e=>s.createElement("div",null,s.createElement("label",{className:(0,o.css)(C.radio)},s.createElement("input",{type:"radio",name:e.name,value:e.value,checked:!!e.checked,onChange:e.onClick})," ",e.children)),v=e=>s.createElement("h4",{className:(0,o.css)(C.question)},e.children);class S extends s.Component{constructor(...e){super(...e),this.state={details:"",submitting:!1},this.handleUpdate=e=>{this.setState({details:e.target.value})},this.handleSubmit=()=>{this.setState({submitting:!0}),this.props.onSubmit(this.state.details).catch((()=>this.setState({submitting:!1})))}}render(){const e=this.state.submitting?h._("Submitting Feedback..."):h._("Give Feedback");return s.createElement("div",null,s.createElement("div",null,s.createElement(p.default,{className:(0,o.css)(C.feedbackTextArea),onChange:this.handleUpdate,title:"",height:"150"})),s.createElement(i.default,{onClick:this.handleSubmit,kind:"secondary"},e))}}const w=e=>s.createElement("div",null,e.children),k=h._("No, I'll try that now.");class _ extends s.Component{constructor(...e){super(...e),this._maybeCallSingleChildCallback=()=>{if(!1!==this.props.showSingleChild&&this.props.onSingleChildShown){const{onSingleChildShown:e}=this.props;e(this.shownChild())}},this.shownChild=()=>{const e=s.Children.toArray(this.props.children);return e[Math.min(Math.max(this.props.showSingleChild||0,0),e.length-1)]}}componentDidMount(){this._maybeCallSingleChildCallback()}componentDidUpdate(e,t){e.showSingleChild!==this.props.showSingleChild&&this._maybeCallSingleChildCallback()}render(){return s.createElement("div",null,!1!==this.props.showSingleChild?this.shownChild():this.props.children)}}_.defaultProps={showSingleChild:!1};class P extends s.Component{constructor(...e){super(...e),this.handleSubmitDetails=e=>this.props.handleResolve(null,e,!1)}render(){return s.createElement(_,null,this.props.children,!this.props.hideFeedback&&s.createElement(S,{onSubmit:this.handleSubmitDetails}))}}P.defaultProps={hideFeedback:!1};const O={warningSign:{path:"M57.379 77.077l0-10.633q0-.784-.539-1.323t-1.225-.539l-10.78 0q-.784 0-1.274.539t-.49 1.323l0 10.633q0 .784.539 1.323t1.225.539l10.78 0q.784 0 1.274-.539t.49-1.323zm-2.009-19.649q1.813 0 1.911-1.274l1.029-25.725q.049-.686-.637-1.176t-1.274-.49l-12.348 0q-.686 0-1.274.49t-.637 1.274l.98 25.627q0 1.176 1.911 1.274l10.339 0zm37.877 35.819l-86.044 0q-4.165 0-6.174-3.528t-.098-7.056l43.022-78.841q.98-1.715 2.646-2.744 3.577-2.156 7.252 0 1.715 1.029 2.646 2.744l43.022 78.841q1.96 3.528-.147 7.056-.931 1.568-2.597 2.548t-3.528.98z",width:100,height:92.816}},C=o.StyleSheet.create({feedbackTextArea:{boxSizing:"border-box",minHeight:50,width:"100%"},orangeWarning:{color:"darkorange",fontWeight:"bold"},radio:{display:"block",padding:4},question:{marginBottom:10}});class M extends s.Component{constructor(...e){super(...e),this.state={step:0,currentStepName:null,responses:[]},this.handleStepShown=e=>{this.setState({currentStepName:e.props.name})},this.handleSubmitDetails=e=>this.props.handleResolve(this.state.responses,e,!1),this.handleDeadEnd=e=>this.props.handleResolve(this.state.responses,null,!0)}nextStep(e){return()=>{const t={[this.state.currentStepName||"null"]:e};this.setState({responses:this.state.responses.concat(t),step:this.state.step+1})}}render(){return s.createElement(_,{showSingleChild:this.state.step,onSingleChildShown:this.handleStepShown},s.createElement(w,{name:"grader-inability-watched"},s.createElement(v,null,h._("Did you watch the talk-through that came before this challenge?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("yes")},h._("Yes, and it didn't prepare me enough."))),s.createElement(w,{name:"grader-inability-rewatched"},s.createElement(v,null,h._("Sometimes it helps to re-watch the talk-through. Have you tried that?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("no-wonthelp")},h._("No, I don't think it will help.")),s.createElement(E,{onClick:this.nextStep("yes")},h._("Yes!"))),s.createElement(w,{name:"grader-inability-tinkered"},s.createElement(v,null,h._("It can help to play with the final code at the end of the talk-through, going through it line by line and editing it to see how the ouput changes. Have you tried that?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("yes")},h._("Yes!"))),s.createElement(w,{name:"grader-inability-question"},s.createElement(v,null,h._("Sometimes it helps to ask a question underneath the talk-through, when something is confusing. Did you try that?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("yes-no-questions")},h._("No, but I had no questions")),s.createElement(E,{onClick:this.nextStep("yes-answer-didnthelp")},h._("Yes, but the answer didn't help.")),s.createElement(E,{onClick:this.nextStep("yes-no-answer")},h._("Yes, but nobody answered."))),s.createElement(w,null,s.createElement(v,null,h._("Thank you for answering those questions. Please give us more details on what you feel under-prepared for:")),s.createElement(S,{onSubmit:this.handleSubmitDetails})))}}class T extends s.Component{constructor(...e){super(...e),this.state={step:0,currentStepName:null,responses:[]},this.handleStepShown=e=>{this.setState({currentStepName:e.props.name})},this.handleSubmitDetails=e=>this.props.handleResolve(this.state.responses,e,!1),this.handleDeadEnd=e=>this.props.handleResolve(this.state.responses,null,!0)}nextStep(e){return()=>{const t={[this.state.currentStepName||"null"]:e};this.setState({responses:this.state.responses.concat(t),step:this.state.step+1})}}render(){return s.createElement(_,{showSingleChild:this.state.step,onSingleChildShown:this.handleStepShown},s.createElement(w,{name:"hintcode"},s.createElement(v,null,h._("There's a \"What's this?\" link next to the hint code. If you click that, you'll get an explanation of what it means. Have you read that?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("read-it-still-confusing")},h._("Yes, I have read the explanation, and it does not make sense."))),s.createElement(w,null,s.createElement(v,null,h._("What is confusing about the hint code?")),s.createElement(S,{onSubmit:this.handleSubmitDetails})))}}class j extends s.Component{constructor(...e){super(...e),this.state={step:0,currentStepName:null,responses:[]},this.handleStepShown=e=>{this.setState({currentStepName:e.props.name})},this.handleSubmitDetails=e=>this.props.handleResolve(this.state.responses,e,!1),this.handleDeadEnd=e=>this.props.handleResolve(this.state.responses,null,!0)}nextStep(e){return()=>{const t={[this.state.currentStepName||"null"]:e};this.setState({responses:this.state.responses.concat(t),step:this.state.step+1})}}render(){return s.createElement(_,{showSingleChild:this.state.step,onSingleChildShown:this.handleStepShown},s.createElement(w,{name:"syntax-compare-to-hintcode"},s.createElement(v,null,h._("Have you tried comparing your code to the hint code on the right?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("yes-but-not-in-hint")},h._("Yes, but it doesn't help because my code isn't in the hint code.")),s.createElement(E,{onClick:this.nextStep("yes-but-cant-see-diff")},h._("Yes, but I don't see the difference."))),s.createElement(w,{name:"syntax-message-make-sense"},s.createElement(v,null,h._("Does the message make sense?")),s.createElement(E,{onClick:this.nextStep("no")},h._("No, it doesn't make sense.")),s.createElement(E,{onClick:this.nextStep("kindof")},h._("It makes a little sense.")),s.createElement(E,{onClick:this.nextStep("yes")},h._("Yes, it makes sense."))),s.createElement(w,{name:"syntax-tried-fixing"},s.createElement(v,null,h._("Have you tried anything to fix the syntax error?")),s.createElement(E,{onClick:this.handleDeadEnd,value:"no-trynow",children:k}),s.createElement(E,{onClick:this.nextStep("no-dont-know-how")},h._("No, I don't know what I can do.")),s.createElement(E,{onClick:this.nextStep("yes")},h._("Yes, but it didn't work."))),s.createElement(w,null,s.createElement(v,null,h._("If you tried to fix it, what did you do? If you didn't, you can leave this blank.")),s.createElement(S,{onSubmit:this.handleSubmitDetails})))}}const x="tried-to-fix-it",N="dont-understand";class R extends s.Component{constructor(...e){super(...e),this.state={reason:null},this.handleSubmitDetails=e=>this.props.handleResolve(this.state.reason&&[{"grader-message":this.state.reason}],e,!1)}renderWarning(){return s.createElement("div",null,s.createElement("p",{className:(0,o.css)(C.orangeWarning)},s.createElement(u.default,{icon:O.warningSign})," ",h._("It looks like there's an orange warning message for this step. Please read the message.")),s.createElement("span",null,h._("If you still want to report a problem, please help us understand more:")),s.createElement(E,{name:"grader-message",checked:this.state.reason===x,onClick:()=>this.setState({reason:x})},h._("I tried to fix it according to the message, but it still won't accept it.")),s.createElement(E,{name:"grader-message",checked:this.state.reason===N,onClick:()=>this.setState({reason:N})},h._("I don't understand what the message wants me to do.")))}renderGoBack(){return s.createElement("p",{className:(0,o.css)(C.orangeWarning)},s.createElement(u.default,{icon:O.warningSign})," ",h._("It looks like there's a message instructing you to go back a step. Check that step to see if something's wrong there that makes sense."),h._("If the message in that step does not make sense, please report a problem from there."))}render(){const e=this.props.stepGoBackNotice,t=this.props.stepCodeWarning;return s.createElement(_,null,s.createElement("p",null,h._("Our automated grader checks your code before passing you to the next step, but sometimes it doesn't consider all the possible ways to code something.")),e&&this.renderGoBack(),t&&!e&&this.renderWarning(),!e&&s.createElement("span",null,s.createElement("p",null,h._("We will automatically record your current code in the problem report, and try to see why the grader did not pass it. You can give additional details here:")),s.createElement(S,{onSubmit:this.handleSubmitDetails})))}}const D=(0,d.safeLinkTo)("https://khanacademy.zendesk.com/hc/en-us/requests/new?ticket_form_id=37070"),W=(0,d.safeLinkTo)("http://khanacademy.org/translations"),A=(0,d.safeLinkTo)("mailto:translations@khanacademy.org"),I={[g.TOO_HARD]:M,[g.DONT_UNDERSTAND_HINT]:T,[g.UNEXPECTED_SYNTAX_ERROR]:j,[g.GRADER_FALSE_NEGATIVE]:R,[g.INSTRUCTIONS_CONFUSING]:e=>s.createElement(P,{handleResolve:e.handleResolve},h._("Sorry if our instructions are confusing! Please describe what is unclear about the instructions:")),[g.EDITOR_BROKEN]:e=>s.createElement(P,{handleResolve:e.handleResolve,hideFeedback:!0},s.createElement("p",null,h._("If you are on an iPad, we have various known issues on that browser. However, the editor should work in Chrome, Firefox, and Internet Explorer 9 or higher.")," ",h._("If it is not working on one of those browsers, please follow the following link to report an issue. Thanks!")),s.createElement(i.default,{kind:"tertiary",href:D,target:"_blank"},h._("Report an issue"))),[g.NOT_TRANSLATED]:e=>e.expectPageIsTranslated?s.createElement(P,{handleResolve:e.handleResolve},s.createElement(v,null,h._("Which part is not translated?"))):s.createElement(_,null,s.createElement("p",null,h._("You can see the current status of translations on Khan Academy from the translation dashboard:")),s.createElement(i.default,{href:W,target:"_blank",kind:"tertiary"},h._("Translation dashboard")),s.createElement("p",null,h._("If your language is not on that list, you can send us an email to request that it be added:")),s.createElement(i.default,{href:A,target:"_blank",kind:"tertiary"},h._("Request a translation!"))),[g.OTHER_FEEDBACK]:e=>s.createElement(P,{handleResolve:e.handleResolve},s.createElement("p",null,h._("We like feedback!")),s.createElement("p",null,h._("Before you leave feedback here, please make sure your report doesn't fall into any of the other categories. You'll get better help that way!")),s.createElement(v,null,h._("What other feedback do you have for us?")))};var F=y;t.default=F},sbxG:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("pVnL")),s=d(r("q1tI")),o=r("mR6N"),i=d(r("zbaY")),l=r("yhei");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class u extends s.Component{constructor(...e){super(...e),this.state={ProcessingJSDocumentation:null,WebpageDocumentation:null,SQLDocumentation:null},this.renderDocs=()=>{const e={pjs:this.state.ProcessingJSDocumentation,webpage:this.state.WebpageDocumentation,sql:this.state.SQLDocumentation,document:null}[this.props.type];return e?s.createElement(e,{hideTitle:this.props.hideTitle,inCourse:this.props.inCourse}):s.createElement(l.CircularSpinner,null)}}componentDidMount(){Promise.all([Promise.all([r.e("corelibs"),r.e("6snO"),r.e("6jkX")]).then(r.t.bind(null,"Ozal",7)).then((e=>e.default)),Promise.all([r.e("corelibs"),r.e("6snO"),r.e("2sHZ")]).then(r.t.bind(null,"itaH",7)).then((e=>e.default)),Promise.all([r.e("corelibs"),r.e("6snO"),r.e("2Bu7")]).then(r.t.bind(null,"b9xk",7)).then((e=>e.default))]).then((([e,t,r])=>{this.setState({ProcessingJSDocumentation:e,SQLDocumentation:t,WebpageDocumentation:r})}))}render(){return s.createElement("div",{className:(0,o.css)(this.props.moduleLayout&&p.moduleLayout,p.module)},this.renderDocs())}}u.defaultProps={hideTitle:!0,moduleLayout:!0};const p=o.StyleSheet.create({moduleLayout:(0,a.default)({},i.moduleLayout.defaultAlignment,i.moduleLayout.defaultSpacing),module:(0,a.default)({},i.typography.bodySmall)});var h=u;t.default=h},thi5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){const t=`backboneStateMixin${Date.now()}`;function r(r){const a=r[t],s=e.getModel(r.props);function o(){r.setState(e.getState(s,r.props))}a.model!==s&&(n(r),s.on("change",o),a.model=s,a.listener=o)}function n(e){const r=e[t],n=r.model;n&&n.off("change",r.listener)}return{getInitialState:function(){const t=e.getModel(this.props);return e.getState(t,this.props)},componentDidMount:function(){this[t]={},r(this)},UNSAFE_componentWillReceiveProps:function(t){r(this);const n=e.getModel(t);this.setState(e.getState(n,t))},componentWillUnmount:function(){n(this)}}};t.default=n},tm9o:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=C(r("q1tI")),s=n(r("96rG")),o=n(r("i8i4")),i=n(r("TSYQ")),l=r("mR6N"),c=r("Pk2J"),d=r("whzC"),u=(r("MhIR"),r("8crR"),n(r("bLWT")),n(r("sbxG"))),p=n(r("UdSq")),h=C(r("6OHE")),m=r("8SBg"),f=r("bHum"),g=r("cojK"),y=n(r("ZAvB")),b=n(r("Pj0g")),E=n(r("K91X")),v=n(r("pnSh")),S=n(r("58T/")),w=n(r("Mf8q")),k=n(r("FNNV")),_=C(r("ob/S")),P=C(r("HEOz"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class M extends a.Component{constructor(e){super(e),this.renderHeader=()=>{if(this.props.embeddedAndWithFrame)return null;const{challenge:e,embedded:t,isChallenge:r,isDocumentation:n,isOfficial:s,isOwner:o,isUneditableProjectFork:i,onTriggerSpinoff:l,originScratchpad:c,profileRoot:d,scratchpad:u,showDescription:p,topic:h,userScratchpad:m,inEditModeAndCanEdit:f,isSaveable:g,onSave:y,setTitle:E,translatedTitle:v}=this.props;return a.createElement(b.default,{challenge:e,embedded:t,isChallenge:r,isDocumentation:n,isOfficial:s,isOwner:o,isUneditableProjectFork:i,onTriggerSpinoff:l,originScratchpad:c,profileRoot:d,scratchpad:u,showDescription:p,topic:h,userScratchpad:m,inEditModeAndCanEdit:f,isSaveable:g,onSave:y,setTitle:E,translatedTitle:v})},this.onRequestHelp=()=>{const e=2*h.standardTransitionMs;setTimeout((()=>{const t=o.default.findDOMNode(this.discussionNode);t&&(0,m.scrollToElement)(t,e,(()=>{t&&t.focus()}))}),0)},this.state={loadingTranscript:!1,numProjectSpinoffs:-1,transcript:null},this.discussionNode=null,this._mounted=!1}componentDidMount(){this.loadTranscript(),this.lazyLoadProjectFeedback(),this.lazyLoadUserSpinoffs(),this._mounted=!0,this.markViewConversion()}componentWillUnmount(){this._mounted=!1,this.DiscussionProjectFeedback&&this.DiscussionProjectFeedback.unmount()}markViewConversion(){if(!this.props.isNew&&"Scratchpad"!==this.props.scratchpad.get("contentKind")||this.props.isRedirectedProjectFork||this.props.embeddedAndWithFrame)return;let e;e=this.props.isNew?"pageview_newprogram":this.props.isOwner?"pageview_myprogram":"pageview_otherprogram",this.props.markConversion({id:e})}lazyLoadProjectFeedback(){Promise.all([r.e("6Gfg").then(r.t.bind(null,"CKQW",7)).then((e=>e.default))]).then((([e])=>{if(!this._mounted)return;const{scratchpad:t,discussion:r}=this.props;(t.isOwner()||t.isProject()||!t.inTutorial())&&(this.DiscussionProjectFeedback=e,e.load(r,(t=>{e.shouldShowTab&&!e.shouldShowTab()||(0,s.default)(e._tabHeaderSelector).show()})))}))}lazyLoadUserSpinoffs(){const{isRedirectedProjectFork:e,scratchpad:t}=this.props;!e&&t.isProject()&&_.loadUserSpinoffs(t.id).then((e=>{this._mounted&&this.setState({numProjectSpinoffs:e.length})}))}renderContent(){const{appVersion:e,creatorProfile:t,embedded:r,embeddedAndWithFrame:n,hasAudio:s,hideEditor:o,inEditModeAndCanEdit:i,isRedirectedProjectFork:l,lastUpdatedTime:c,originScratchpad:d,sandboxProps:u,sandboxUrl:p,scratchpad:h,showProjectEvalArea:m,userScratchpad:f,youtubeUrl:g,challenge:b,hideSave:E,isChallenge:v,isNew:S,isProject:w,isSaveable:k,isSpinOffAllowed:_,liveEditorPromise:P,onSeek:O,onSeekEnd:C,onSeekStart:M,onStartOver:T,onUndo:j,registerTriggerSave:x,registerTriggerSpinOff:N,restartLabel:R,saveScratchpad:D,setTitle:W,showProjectHelpButton:A,showStartOverButton:I,topic:F,shouldHideRestart:B,registerCodeRun:L,registerCodeChange:H,registerUserCodeChange:U}=this.props;return a.createElement(y.default,{appVersion:e,creatorProfile:t,embedded:r,embeddedAndWithFrame:n,hasAudio:s,hideEditor:o,inEditModeAndCanEdit:i,isRedirectedProjectFork:l,lastUpdatedTime:c,originScratchpad:d,sandboxProps:u,sandboxUrl:p,scratchpad:h,showProjectEvalArea:m,userScratchpad:f,youtubeUrl:g,numProjectSpinoffs:this.state.numProjectSpinoffs,onRequestHelp:this.onRequestHelp,challenge:b,hideSave:E,isChallenge:v,isNew:S,isProject:w,isSaveable:k,isSpinOffAllowed:_,liveEditorPromise:P,onSeek:O,onSeekEnd:C,onSeekStart:M,onStartOver:T,onUndo:j,registerTriggerSave:x,registerTriggerSpinOff:N,restartLabel:R,saveScratchpad:D,setTitle:W,showProjectHelpButton:A,showStartOverButton:I,topic:F,shouldHideRestart:B,registerCodeRun:L,registerCodeChange:H,registerUserCodeChange:U})}renderDiscussion(){const{topicSlug:e,discussion:t,hideDiscussion:r,scratchpad:n}=this.props;if(r||!t||n.attributes.byChild)return null;const{expandFeedbackType:s,qaExpandKey:o,restrictPosting:i,showProjectFeedback:l}=t,c={expandFeedbackType:s,qaExpandKey:o,restrictPosting:i,showProjectFeedback:l,authorKaid:n.attributes.kaid};return a.createElement(p.default,{ref:e=>this.discussionNode=e,contentKind:t.focusKind,contentId:t.focusId,topicSlug:e,discussionContext:c,onNextPage:()=>{}})}renderiPadNavigation(){return a.createElement("div",{className:"ipad-scratchpad-wrap-outer"})}renderLicense(){const e=(0,d.safeLinkTo)("http://opensource.org/licenses/mit-license.php"),t=(0,d.safeLinkTo)("https://creativecommons.org/licenses/by/4.0/"),r=(0,d.safeLinkTo)("/about/tos#5");return a.createElement("div",{className:"license"},a.createElement("ul",null,a.createElement("li",null,P._("All code is owned by its respective author and made available under the following license:")," ",a.createElement("a",{href:e},P._("MIT license"))),a.createElement("li",null,P._("All non-code (such as writing, drawings, images, etc.) are also owned by their respective author and made available under the following license:")," ",a.createElement("a",{href:t},P._("Creative Commons Attribution License"))),a.createElement("li",null,P._("For more information please see:")," ",a.createElement("a",{href:r},P._("Terms of Service")))))}loadTranscript(){const e=this.props.scratchpad.getYoutubeId();!e||this.state.transcript||this.state.loadingTranscript||(this.setState({loadingTranscript:!0}),_.loadTranscript(e).then((e=>{this._mounted&&this.setState({transcript:e})})))}renderTabs(){const e=[],t=this.props.scratchpad.get("userAuthoredContentType");if(this.props.creatorProfile||this.props.scratchpad.get("translatedDescription")){const{creatorProfile:t,embedded:r,hasUnsavedChanges:n,lastUpdatedTime:s,newTitle:o,onSave:i,onToggleProp:l,originScratchpad:c,scratchpad:d,scratchpadKey:u,canEdit:p,discussionMeta:h,inEditModeAndCanEdit:m,isNew:f,isModerator:g,isComputerProgramming:y,isChallenge:b,isDocumentation:E,isOwner:S,isOfficial:w,hideSpinOffs:k,deleteScratchpad:_}=this.props;e.push({title:P._("About"),content:a.createElement(v.default,{creatorProfile:t,embedded:r,hasUnsavedChanges:n,lastUpdatedTime:s,newTitle:o,onSave:i,onToggleProp:l,originScratchpad:c,scratchpad:d,scratchpadKey:u,canEdit:p,discussionMeta:h,inEditModeAndCanEdit:m,isNew:f,isModerator:g,isComputerProgramming:y,isChallenge:b,isDocumentation:E,isOwner:S,isOfficial:w,hideSpinOffs:k,deleteScratchpad:_,private:this.props.private,showShareButton:this.props.showShareButton})})}if(!this.props.hideDocumentation){const r=!this.props.isNew&&this.props.embedded;e.push({title:P._("Documentation"),content:a.createElement(u.default,{type:t,hideTitle:!1,moduleLayout:!1,inCourse:r})})}if(!this.props.hideSpinOffs&&this.props.scratchpad.id&&e.push({title:P._("Spin-offs"),content:a.createElement(S.default,{scratchpadId:this.props.scratchpad.id.toString(),scratchpadKind:this.props.scratchpad.get("contentKind")})}),this.state.transcript){const{onSeek:t,onSeekEnd:r,onSeekStart:n,registerPlayUpdate:s}=this.props;e.push({title:P._("Transcript"),content:a.createElement(w.default,{onSeek:t,onSeekEnd:r,onSeekStart:n,registerPlayUpdate:s,transcript:this.state.transcript})})}return(this.props.isNew||"Scratchpad"===this.props.scratchpad.get("contentKind")&&!this.props.scratchpad.get("isPublished"))&&e.push({title:P._("Guidelines"),content:a.createElement(k.default,{userAuthoredContentType:t})}),a.createElement(E.default,{tabs:e})}renderFooter(){return this.props.embeddedAndWithFrame?null:a.createElement("div",{className:(0,l.css)(T.footer)},this.renderTabs(),this.renderDiscussion(),this.renderiPadNavigation(),this.renderLicense())}render(){return a.createElement("div",null,this.renderHeader(),a.createElement("div",{className:(0,i.default)("scratchpad-wrap-outer")},this.renderContent(),this.renderFooter()))}}const T=l.StyleSheet.create({footer:{margin:"0 auto",maxWidth:688}});var j=(0,c.compose)((0,f.withConversionContext)((e=>({activity:f.enums.Activity.OTHER_ACTIVITY,product:f.enums.Product.OTHER_PRODUCT}))),g.withMarkConversion)(M);t.default=j},v10r:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=y(r("q1tI")),s=r("mR6N"),o=n(r("wa3X")),i=r("JasB"),l=r("JimW"),c=r("Vxy9"),d=r("DzHr"),u=n(r("mXPZ")),p=(r("MhIR"),n(r("4Du/"))),h=r("Y8R6"),m=r("Tipd"),f=y(r("HEOz"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}const b="closed",E="open",v="verify",S="saving",w="complete",k="error",_="signup";class P extends a.Component{constructor(e){super(e),this.state={error:null,saveModalState:b,spinOff:!1},this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.registerTriggerSave((()=>{this._isMounted&&this.setState({spinOff:!1},(()=>this.nextModalState()))})),this.props.registerTriggerSpinOff((()=>{this._isMounted&&this.setState({spinOff:!0},(()=>this.nextModalState()))}))}componentWillUnmount(){this._isMounted=!1}getNextModalState(){let e=this.state.saveModalState||b;if(e===b){if(!u.default.isLoggedIn){const{pathname:e,search:t,hash:r}=this.props.location,n=e+t+r;return(0,h.redirect)((0,m.getLoginURL)(n)),_}if(e=E,this.shouldSetTitle())return e}return e===E&&(e=v,this.shouldVerifyPermissions())?e:e===v?S:e===S?w:b}shouldSetTitle(){const e=this.props.scratchpad;return this.state.spinOff||e.isNew()}shouldVerifyPermissions(){const e=this.props.scratchpad.get("category");return!this.state.spinOff&&u.default.hasAnyPermissions&&e}shouldDisplaySavingModal(){return this.shouldSetTitle()||this.shouldVerifyPermissions()}closeModal(){this.setState({saveModalState:b})}nextModalState(){const e=this.getNextModalState();this.setState({saveModalState:e}),e===S?this.props.saveScratchpad(this.state.spinOff).then((()=>this.nextModalState()),(e=>this.handleError(e))):e===w&&(this.delayClose=setTimeout((()=>this.closeModal()),5e3))}getSuggestedTitle(){let e=this.props.scratchpad.get("translatedTitle");const t=f._('Spin-off of "%(title)s"',{title:"%%%"}).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&").replace("%%%",".*"),r=RegExp("^("+t+'|Spin-off of ".*")',"i");return this.state.spinOff&&!r.test(e)&&(e=f._('Spin-off of "%(title)s"',{title:e})),e}renderSetTitleModal(){const e=this.state.spinOff,t=this.getSuggestedTitle(),r=f._("We're going to save your project now, please set a descriptive title for it:");return a.createElement(d.OneColumnModal,{content:a.createElement(l.View,null,a.createElement(c.Title,null,f._("Save As...")),a.createElement(c.Body,{tag:"p"},r),a.createElement("input",{ref:e=>this.titleInputElement=e,className:(0,s.css)(O.titleInput),autoFocus:!0,type:"text",defaultValue:t}),a.createElement(c.Body,{tag:"p",style:O.findProgramsNote},f._("To find your projects later, you can:")),a.createElement("ul",{className:(0,s.css)(O.findProgramsList)},a.createElement("li",null,f._('Click "My Projects" from links around the site.')),a.createElement("li",null,f._('Click your name in the upper right corner and then click ”Profile”. You\'ll then find the "Projects" card at the bottom right hand side of the screen.')),e&&a.createElement("li",null,f._('To find all of your spin-offs of this project, click "Spin-offs" and look under "Your spin-offs."')))),footer:a.createElement(l.View,{style:O.modalFooter},a.createElement(o.default,{kind:"tertiary",onClick:()=>this.closeModal()},f._("Cancel")),a.createElement(i.Strut,{size:16}),a.createElement(o.default,{onClick:()=>{const e=this.titleInputElement?this.titleInputElement.value:"";this.props.setTitle(e).then((()=>this.nextModalState()))}},f._("Save")))})}renderVerifyPermissionsModal(){return a.createElement(d.OneColumnModal,{content:a.createElement(c.Body,null,f._("Are you sure you want to save an official program?")),footer:a.createElement(l.View,{style:O.modalFooter},a.createElement(o.default,{kind:"secondary",onClick:()=>this.closeModal()},f._("Cancel")),a.createElement(i.Strut,{size:16}),a.createElement(o.default,{onClick:()=>this.nextModalState()},f._("Save")))})}renderSaveScratchpadModal(){return a.createElement(d.OneColumnModal,{content:a.createElement(c.Body,null,f._("Saving..."))})}handleError(e){this.setState({saveModalState:k,error:e})}renderError(e){return a.createElement(d.OneColumnModal,{content:a.createElement(l.View,null,a.createElement(c.Title,null,f._("Error")),a.createElement(c.Body,null,e)),footer:a.createElement(l.View,{style:O.modalFooter},a.createElement(o.default,{onClick:()=>this.closeModal()},f._("Okay")))})}renderSaveModal(){if(!this.shouldDisplaySavingModal())return null;const e=this.state.saveModalState,t=(()=>e===E?this.renderSetTitleModal():e===v?this.renderVerifyPermissionsModal():e===S?this.renderSaveScratchpadModal():e===k&&this.state.error?this.renderError(this.state.error):null)();return t?a.createElement(d.ModalLauncher,{onClose:()=>this.closeModal(),opened:!!t,modal:t}):null}render(){const e=this.state.saveModalState,t=e!==b,r=t;let n=f._("Save"),s=f._("Spin-off");e===w?this.state.spinOff?s=f._("Saved!"):n=f._("Saved!"):t&&(this.state.spinOff?s=f._("Spinning-off..."):n=f._("Saving..."));const i=e=>{this.setState({spinOff:e},(()=>this.nextModalState()))},c=a.createElement(o.default,{disabled:r,onClick:()=>i(!1),style:O.toolbarButton},n),d=a.createElement(o.default,{kind:this.props.isSaveable?"secondary":"primary",disabled:r,onClick:()=>i(!0),style:O.toolbarButton},s);return a.createElement(l.View,{style:O.buttonContainer},this.props.isSpinOffAllowed()&&d,this.props.isSaveable&&c,this.renderSaveModal())}}const O=s.StyleSheet.create({buttonContainer:{flexDirection:"row"},modalFooter:{flexDirection:"row",justifyContent:"flex-end"},toolbarButton:{marginLeft:16},titleInput:{fontSize:18,width:"100%"},findProgramsNote:{marginBottom:10},findProgramsList:{listStyle:"initial",marginLeft:22}});var C=(0,p.default)(P);t.default=C}}]);
//# sourceMappingURL=../../sourcemaps/en/1y7E.3f82d2fddc41b6267256.js.map