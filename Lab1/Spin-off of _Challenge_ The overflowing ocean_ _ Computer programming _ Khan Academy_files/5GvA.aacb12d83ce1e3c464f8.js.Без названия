(window.webpackJsonp=window.webpackJsonp||[]).push([["5GvA","1RWy"],{"8crR":function(t,e,n){"use strict";var s=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.getNextProgressMessage=e.getNextCompletionMessage=e.getColoredTextForTest=e.ScratchpadChallenge=void 0,e.sendContentFeedback=function(t,e,n,s,r,i){r=r||"";const o=(s=s||[]).map((t=>{const e=Object.keys(t)[0];return`${e}: ${t[e]}`})).concat([r]).join("\n"),a=/\)*\s([^|]*)\|/g.exec(document.title)[1],l=r.substr(0,50).replace(/\n/g," ")+(r.length>50?"...":""),d=[a,n,l].join(" - "),f=t.liveEditor?o+"\n\n{code:JavaScript}"+t.liveEditor.editor.text()+"{code}\n\n"+t.getDebugInfo():"",p=(0,c.getUserId)(e)||"",g=p+"\n\nhttps://www.khanacademy.org/devadmin/users?authEmail=&username=&userId="+p,v=window.location.href.substr(window.location.href.lastIndexOf("/")+1),S=window.location.href,y=e?e.get("email"):"N/A",_=(0,c.getKaid)(e)||"N/A",m={editor:"The editor is broken",translated:"Not translated",syntax:"Syntax error won't go away",hintcode:"Question or hints confusing",inability:"Videos didn't prepare adequately",grader:"Grader won't accept code",instructions:"Question or hints confusing",other:"Other"}[n],T={dontSendToContentIssueTracker:i,fields:{project:{key:"CC"},issuetype:{name:"Item issue report"},summary:d,description:f,email:y,kaid:_,readable_id:[v],preview_url:S,item_url:S,framework:{value:"coding-challenges"},debug_info:g,user_agent:navigator.userAgent,issue_type:{value:m},locale:[h.default.kaLocale]}};return(0,u.khanFetch)("/content-issue-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})};var r=s(n("96rG")),i=s(n("5pch")),o=n("Jxn/"),a=s(n("+a4J")),u=n("skGw"),c=n("SjSX"),l=s(n("dzVj")),d=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=t[i]}s.default=t,n&&n.set(t,s);return s}(n("HEOz")),h=s(n("Q8Wn"));function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}const p=a.default.Model.extend({initialize:function(t){this.userScratchpad=t.userScratchpad,this.editor=t.editor,this.useBlocks=t.useBlocks,this.contentType=t.contentType;const e=this.userScratchpad.get("points"),n=this.userScratchpad.get("challengeStatus")===o.PROGRAM_STATUS.CHALLENGE_COMPLETE;this.set("complete",n),this.set("lastCompleted",n?Number.POSITIVE_INFINITY:-1),this.set("step",n?Number.POSITIVE_INFINITY:0),this.set("points",e),this.on("change:complete",i.default.bind((function(t,e){e&&this.userScratchpad.saveChallengeStatus(o.PROGRAM_STATUS.CHALLENGE_COMPLETE,{success:i.default.bind((function(t){this.set("points",t.get("points"))}),this)})}),this))},editor:null,setLiveEditor(t){this.liveEditor=t,this.editor=t.editor},triggerUpdate:function(){this.trigger("challengeUpdate",this)},completeChallenge:function(){this.set("complete",!0),this.set("step",this.get("tests").length),this.set("lastCompleted",this.get("tests").length),this.triggerUpdate()},onGoalStep:function(){return this.get("step")>=this.get("tests").length},startOver:function(){this.set("complete",!1),this.userScratchpad.saveChallengeStatus(o.PROGRAM_STATUS.CHALLENGE_STARTED),this.moveToStep(0)},moveToStep:function(t){-1===t?this.set("step",this.get("step")+1):this.set("step",t),this.triggerUpdate(),this.editor.focus()},assertionsFail:function(){return this.get("assertions")&&this.get("assertions").length>0},allTestsPass:function(){return!(!this.get("tests")||!this.get("tests").every((t=>"pass"===t.state)))},firstFailure:function(){return i.default.pluck(this.get("tests"),"state").indexOf("fail")},previousStepFailed:function(){const t=this.firstFailure();return t>=0&&t<this.get("step")},currentStepHasWarning:function(){const t=this.get("tests")[this.get("step")].results;return!!i.default.find(t,(function(t){return t.meta.alsoMessage}))},getDebugInfo:function(){return["complete: "+this.get("complete"),"lastCompleted: "+this.get("lastCompleted"),"points: "+this.get("points"),"step: "+this.get("step")].join("\n")},processResults:function(t){if(this.userScratchpad.get("challengeStatus")===o.PROGRAM_STATUS.CHALLENGE_NOT_STARTED&&this.userScratchpad.saveChallengeStatus(o.PROGRAM_STATUS.CHALLENGE_STARTED),i.default.isEqual(this.get("tests"),t.tests)&&i.default.isEqual(this.get("assertions"),t.assertions)&&i.default.isEqual(this.get("errors"),t.errors))return;const e=t.tests;this.set("errors",t.errors),this.set("assertions",t.assertions),b(e,i.default.bind((function(){if(this.set("tests",e),!this.get("complete")){const n=i.default.map(e,(function(t){return t.state}));if((t=n).length>0&&"pass"===t[0]&&i.default.contains(t,"fail")&&i.default.indexOf(t,"fail")>i.default.lastIndexOf(t,"pass")&&!this.assertionsFail()){const t=i.default.indexOf(n,"fail")-1;t>this.get("lastCompleted")&&(this.set("lastCompleted",t),this.set("step",t))}}var t;this.triggerUpdate()}),this),this)},getCurrentTestGroup:function(){return this.get("tests")[this.get("step")]},canBeCompleted:function(){return!this.get("complete")&&!this.assertionsFail()&&this.allTestsPass()},currentStepComplete:function(){return!this.get("complete")&&this.get("lastCompleted")>=this.get("step")&&"pass"===this.getCurrentTestGroup().state},hasSyntaxErrors(){return!this.liveEditor||!!this.liveEditor.hasErrors()},liveEditor:null},{});e.ScratchpadChallenge=p;const g=i.default.shuffle([d._("Way to go!"),d._("Awesome!"),d._("Good job!"),d._("Nice work!"),d._("Amazing!"),d._("Brilliant!"),d._("Incredible!"),d._("Making progress!"),d._("Getting closer!")]),v=i.default.shuffle([d._("Moving forward!"),d._("Ready for more?"),d._("Onto the next step!"),d._("Keep it up!"),d._("You can do it!"),d._("Great things are ahead!"),d._("Keep moving on!")]);let S=-1;e.getNextProgressMessage=function(){S+=1;return g[S%g.length]+" "+v[S%v.length]};const y=i.default.shuffle([d._("All steps complete!"),d._("Great job!"),d._("You did it!"),d._("You figured it out!")]);let _=-1;e.getNextCompletionMessage=function(){return _+=1,y[_%y.length]};const m={};let T=0,O=-1;const b=function(t,e,n){let s=1;const r=n.contentType,i=T;T+=1,O=i;for(let o=0;o<t.length;o++){const a=t[o].results;for(let t=0;t<a.length;t++)if(a[t].meta.structure){const o=a[t].meta.structure;m.hasOwnProperty(JSON.stringify(o))||(s+=1,w[r](o,(function(t){m[JSON.stringify(o)]=t,s-=1,s<=0&&i===O&&e()}),n))}}s-=1,0===s&&e()};e.getColoredTextForTest=function(t){return m[JSON.stringify(t.meta.structure)]||""};const w={pjs:function(t,e,n){if(n.useBlocks){const s=n.liveEditor.editor.editor.codeToHTML(t);return void e((0,r.default)("<div>").append((0,r.default)("<div>").addClass("rainbowjs").html(s)).html())}const s=t.slice(t.indexOf("{")+1,t.lastIndexOf("}"));(0,l.default)(s,e)},sql:function(t,e){let n="";t&&(n=(0,r.default)("<div></div>").append((0,r.default)('<pre class="rainbowjs"></pre>').text(t)).html()),e(n)},webpage:function(t,e){let n="";t&&(n=(0,r.default)("<div></div>").append((0,r.default)('<pre class="rainbowjs"></pre>').text(t)).html()),e(n)}}},"Jxn/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROGRAM_STATUS=void 0;const s=Object.freeze({CHALLENGE_NOT_STARTED:-1,CHALLENGE_STARTED:0,CHALLENGE_COMPLETE:1,PROJECT_NOT_STARTED:2,PROJECT_STARTED:3,PROJECT_PASS:5});e.PROGRAM_STATUS=s},MhIR:function(t,e,n){"use strict";var s=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.UserScratchpad=e.ScratchpadRevision=e.Scratchpad=void 0;var r=s(n("eIwi")),i=s(n("5pch")),o=n("Jxn/"),a=s(n("+a4J")),u=f(n("4PhQ")),c=f(n("whzC")),l=s(n("E9A0")),d=f(n("HEOz"));function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=t[i]}return s.default=t,n&&n.set(t,s),s}const p=a.default.Model.extend({parse:function(t){return t.created=new Date(t.created),isNaN(Number(t.created))&&(t.created=new Date),t},hasAudio:function(){return!!this.getMp3Url()},getMp3Url:function(){return this.get("translatedMp3Url")||this.get("mp3Url")}},{});e.ScratchpadRevision=p;const g=a.default.Model.extend({url:function(){return"/api/internal/user_scratchpads/"+(this.id||"")+"?casing=camel&client_dt="+(0,r.default)().format()},defaults:{challengeStatus:o.PROGRAM_STATUS.CHALLENGE_NOT_STARTED,stashedCode:""},initialize:function(){this.inactivitySeconds=0,this.lastActivityTime=null},saveChallengeStatus:function(t,e){if(!i.default.contains(Object.values(o.PROGRAM_STATUS),t))return void u.default.error("Invalid status: "+t,u.Errors.Internal);const n={};n.challengeStatus=t,e=e||{},n.scratchpadId=this.get("scratchpadId"),n.scratchpadKind=this.get("scratchpadKind"),e.attrs=n,this.save(n,e)}},{});e.UserScratchpad=g;const v=a.default.Model.extend({urlRoot:"/api/internal/scratchpads",url:function(){return v.__super__.url.apply(this)+"?client_dt="+(0,r.default)().format()},pathForShow:function(){return this.get("relativeUrl")},pathForImage:function(){return this.get("imagePath")},urlForShow:function(){return this.get("url")},urlForImage:function(){return this.get("imageUrl")},getVersion:function(){if(this.isNew()){const t=l.default.LegacyRequireIfLoaded.ScratchpadUIModule;if(t&&t.ScratchpadUI&&t.ScratchpadUI.liveEditor)return t.ScratchpadUI.liveEditor.config.latestVersion()}return this.currentRevision().get("configVersion")||0},setVersion:function(t){this.currentRevision().set("configVersion",t)},getCode:function(){const t=this.get("contentKind");return"Scratchpad"!==t&&t?this.get("code"):this.currentRevision().get("code")},getFolds:function(){return"Scratchpad"===this.get("contentKind")?this.currentRevision().get("folds"):this.get("folds")},getPlayback:function(){return"Scratchpad"===this.get("contentKind")?this.currentRevision().get("playback"):this.get("playback")},getYoutubeId:function(){return"Scratchpad"===this.get("contentKind")?this.currentRevision().get("youtubeId"):this.get("youtubeId")},setYoutubeId:function(t){this.currentRevision().set("youtubeId",t)},getYoutubeUrl:function(){return c.safeLinkTo(`https://www.youtube.com/embed/${this.getYoutubeId()}`)},isResizableType:function(){return"webpage"===this.get("userAuthoredContentType")||"sql"===this.get("userAuthoredContentType")},toJSONForTemplate:function(){return{id:this.get("id"),imagePath:this.pathForImage(),showPath:this.pathForShow(),title:this.get("title"),translatedTitle:this.get("translatedTitle")}},hasTag:function(t){return i.default.include(this.get("tags"),t)},parse:function(t,e){return t.revision=new p(t.revision,{parse:!0}),t.trustedRevision=new p(t.trustedRevision,{parse:!0}),t.tags||(t.tags=[]),t},fork:function(){const t=this.currentRevision();return new v({title:this.get("title"),revision:t.clone().unset("id").set({mp3Url:"",playback:"",tests:""}),originScratchpadId:this.get("id"),originScratchpadKind:this.get("contentKind"),originRevisionId:t.get("id")})},save:function(t,e){return this.get("revision").unset("created").unset("kind").unset("scratchpadId").unset("id").unset("hasAudio"),v.__super__.save.call(this,t,e)},currentRevision:function(){const t=l.default.LegacyRequireIfLoaded.ScratchpadUIModule;if(t&&!this.isOwner()){const e=t.ScratchpadUI,n=this.get("trustedRevision");if(e.trusted&&n&&n.get("id"))return this.get("trustedRevision")}return this.get("revision")},isTalkie:function(){return!!("Talkthrough"===this.get("contentKind")||this.currentRevision()&&this.currentRevision().get("hasAudio"))},isChallenge:function(){return"Challenge"===this.get("contentKind")||"challenge"===this.get("category")},isProject:function(){return"Project"===this.get("contentKind")||"project"===this.get("category")},isOfficial:function(){return"Interactive"===this.get("contentKind")||"official"===this.get("category")},isCategorySet:function(){return!!this.get("category")},isProjectOrFork:function(){return this.isProject()||this.isOriginProject()},hasObjectives:function(){return this.isChallenge()||this.isProject()},isOwner:function(){const t=l.default.LegacyRequireIfLoaded.ScratchpadUIModule;return t&&t.ScratchpadUI&&t.ScratchpadUI.currentUserKaid===this.get("kaid")},inTutorial:function(){return!!this.get("defaultUrlPath")},isOriginProject:function(){return this.get("originIsProject")},setTitle:function(t){this.set("title",t),this.set("translatedTitle",t)}},{difficultyMapping:{1:d._("Work in Progress"),10:d._("Getting Started"),20:d._("Easy"),30:d._("Intermediate"),40:d._("Expert")}});e.Scratchpad=v},dzVj:function(t,e,n){"use strict";var s=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){r.default.color(t,"javascript",(function(t){const n="<pre class='rainbowjs'>"+i(t)+"</pre>";e(n)}))};var r=s(n("Wja4"));function i(t,e=!1){e||(i.styleMap={},i.counter=0);return(t=t.replace(/(^|[^A-Za-z0-9])_(?![A-Za-z0-9])/g,"$1<span class='structuredjs_blank'></span>")).replace(/(?:(^|[^\w])\$(\w+))|(?:\$<span class="function call">(\w+)<\/span>)/g,(function(t,e,n,s){e=e||"";const r=i;return(n=n||s)in r.styleMap||(r.styleMap[n]=r.counter<r.styles.length?r.styles[r.counter]:"extra",r.counter+=1),e+"<span class='structuredjs_var "+r.styleMap[n]+"'></span>"}))}i.styles=["one","two","three","four","five","six","seven"],i.styleMap={},i.counter=0},osXv:function(t,e,n){"use strict";var s=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=t[i]}s.default=t,n&&n.set(t,s);return s}(n("q1tI")),i=s(n("Pwnf")),o=s(n("yts4")),a=n("Vxy9"),u=s(n("gE8/")),c=n("JasB"),l=n("JimW");function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}const h=({children:t,backgroundColor:e,textColor:n,icon:s})=>r.createElement(l.View,{style:[f.alert,{backgroundColor:e}]},r.createElement(o.default,{icon:s,size:"small",color:n}),r.createElement(c.Strut,{size:u.default.medium_16}),r.createElement(a.LabelSmall,{style:{color:n}},t));h.defaultProps={backgroundColor:"#D0F1FE",textColor:i.default.offBlack,icon:{small:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-2A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 8a1 1 0 1 1 2 0v3a1 1 0 0 1-2 0V8zm1-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}};const f={alert:{flexDirection:"row",alignItems:"center",width:"100%",padding:u.default.medium_16,borderRadius:u.default.xxxSmall_4}};var p=h;e.default=p}}]);
//# sourceMappingURL=../../sourcemaps/en/5GvA.aacb12d83ce1e3c464f8.js.map